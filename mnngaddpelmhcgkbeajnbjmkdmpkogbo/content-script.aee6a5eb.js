(()=>{const e=e=>{const n=document.createElement("div");n.classList.add("scan-translator-error-message"),Object.assign(n.style,{display:"flex",alignItems:"center",gap:"8px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"12px 24px",background:"rgba(193, 22, 22, 1)",color:"white",fontSize:"18px",textAlign:"center",borderRadius:"6px",zIndex:t()+1});const a=document.createElement("p");a.innerHTML=e;const o=document.createElement("button");throw o.innerHTML='<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="16px" width="16px" xmlns="http://www.w3.org/2000/svg"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',n.appendChild(a),n.appendChild(o),document.body.appendChild(n),o.addEventListener("click",(()=>{n.remove()})),new Error("An error occurred")},n=()=>{const e=document.querySelector(".scan-translator-panel-root").shadowRoot,n=e?.querySelector(".js-translate-page"),t=e?.querySelector(".js-translate-all-images");document.querySelector(".scan-translator-overlay-loader")?.remove(),n?.classList.remove("disable"),t?.classList.remove("disable")},t=()=>Math.max(...Array.from(document.querySelectorAll("body *"),(e=>parseFloat(window.getComputedStyle(e).zIndex))).filter((e=>!Number.isNaN(e))),0),a=({clientHeight:e,scrollHeight:n})=>n>e,o=({element:e,elements:n,minSize:t=14,maxSize:o=22,step:s=1,unit:r="px"})=>{(n||[e]).forEach((e=>{let n=t,l=!1;const i=e.parentNode;for(;!l&&n<o;)e.style.fontSize=`${n}${r}`,l=a(i),l||(n+=s);e.style.fontSize=`${n-s}${r}`}))},s=e=>{let n=0,t=0,a=0,o=0;e.onmousedown=function(e){(e=e||window.event).preventDefault(),a=e.clientX,o=e.clientY,document.onmouseup=r,document.onmousemove=s};const s=s=>{(s=s||window.event).preventDefault(),n=a-s.clientX,t=o-s.clientY,a=s.clientX,o=s.clientY,e.style.top=e.offsetTop-t+"px",e.style.left=e.offsetLeft-n+"px"},r=()=>{document.onmouseup=null,document.onmousemove=null}};let r=null;const l=()=>{if(r)return r;const e=i(),n=c(),t=d(),a=(new Date).getTimezoneOffset();return r=btoa(`${e}-${n}-${t}-${a}`),r},i=()=>{const e=new OffscreenCanvas(0,0).getContext("webgl");if(!e)return"none";const n=e.getExtension("WEBGL_debug_renderer_info");return n?e.getParameter(n.UNMASKED_RENDERER_WEBGL):"unknown"},c=()=>{const e=navigator?.hardwareConcurrency;return`${e}-${navigator.deviceMemory}`},d=()=>{const e=navigator.connection?.type,n=navigator.connection?.rtt,t=navigator.connection?.downlinkMax,a=navigator.connection?.effectiveType,o=navigator.connection?.saveData;return`${e}-${n}-${t}-${a}-${o}`},p={NO_TEXT_FOUND:'No text was found in this image or this site prevents us from retrieving the image. Use your <a href="https://scan-translator.com/upload" target="_blank">Upload Tool</a> instead',SITE_NOT_SUPPORTED:'This website is not supported, Use our <a href="https://scan-translator.com/upload" target="_blank">Upload Tool</a> to translate manually your images',GLOBAL:"An error has occurred, please try again later or refresh the page. If the error is still present, send us a message",LIMIT_EXCEEDED:'Sorry, you have exceeded your weekly limit of 20 free credits. Please upgrade to <a href="https://scantranslator.gumroad.com/l/scan-translator" target="_blank">pro</a> or try again in 1 week.'},u={HITOMI:"hitomi.la"},m=[{name:"Albanian",value:"SQ"},{name:"Arabic",value:"AR"},{name:"Armenian",value:"HY"},{name:"Belarusian",value:"BE"},{name:"Bosnian",value:"BS"},{name:"Bulgarian",value:"BG"},{name:"Burmese",value:"MY"},{name:"Chinese (simplified)",value:"ZH"},{name:"Croatian",value:"HR"},{name:"Czech",value:"CS"},{name:"Danish",value:"DA"},{name:"Dutch",value:"NL"},{name:"English (American)",value:"EN-US"},{name:"English (British)",value:"EN-GB"},{name:"Estonian",value:"ET"},{name:"Finnish",value:"FI"},{name:"French",value:"FR"},{name:"Georgian",value:"KA"},{name:"German",value:"DE"},{name:"Greek",value:"EL"},{name:"Hebrew",value:"HE"},{name:"Hindi",value:"HI"},{name:"Hungarian",value:"HU"},{name:"Icelandic",value:"IS"},{name:"Indonesian",value:"ID"},{name:"Italian",value:"IT"},{name:"Japanese",value:"JA"},{name:"Korean",value:"KO"},{name:"Kurdish",value:"KU"},{name:"Lao",value:"LO"},{name:"Latvian",value:"LV"},{name:"Lithuanian",value:"LT"},{name:"Luxembourgish",value:"LB"},{name:"Macedonian",value:"MK"},{name:"Malagasy",value:"MG"},{name:"Malay",value:"MS"},{name:"Maltese",value:"MT"},{name:"Mongolian",value:"MN"},{name:"Nepali",value:"NE"},{name:"Norwegian",value:"NO"},{name:"Persian",value:"FA"},{name:"Polish",value:"PL"},{name:"Portuguese (Brazilian)",value:"PT-BR"},{name:"Portuguese (excluding Brazilian)",value:"PT-PT"},{name:"Romanian",value:"RO"},{name:"Russian",value:"RU"},{name:"Slovak",value:"SK"},{name:"Slovenian",value:"SL"},{name:"Somali",value:"SO"},{name:"Spanish",value:"ES"},{name:"Sundanese",value:"SU"},{name:"Swedish",value:"SV"},{name:"Thai",value:"TH"},{name:"Turkish",value:"TR"},{name:"Turkmen",value:"TK"},{name:"Ukrainian",value:"UK"},{name:"Uzbek",value:"UZ"},{name:"Vietnamese",value:"VI"},{name:"Welsh",value:"CY"},{name:"Yiddish",value:"YI"}],g=chrome.runtime.getManifest().version;let h,v,f="EN-US",w=null,y=null;const b=()=>{const e=document.createElement("div");e.classList.add("scan-translator-panel-root"),document.body.appendChild(e)},x=async e=>{const{scanTranslatorTranslatePageEvent:n,licenseKeyPopupEvent:t,scanTranslatorTargetLangEvent:a,scanTranslatorPanelEvent:o,resetOverlayEvent:s,storeLicenseKey:r,scanTranslatorCustomFontSize:l}=e;l&&(w=l,H(l)),"show"===o&&L("show"),"hide"===o&&L("hide"),r&&localStorage.setItem("licenseKeyForLandingPage",y||await R("licenseKeyLocalStorage")),s&&E(),a&&C(a),t&&S(t),n&&(S(t),A())},L=e=>{"complete"===document.readyState?"show"===e?T(f):_():window.addEventListener("load",(()=>{"show"===e?T(f):_()}))},C=async e=>{f=e;const n=document.querySelector(".scan-translator-panel-root")?.shadowRoot;n&&(n.querySelector(".js-panel-translated-to-select").value=e)},S=e=>{chrome.storage.local.set({licenseKeyLocalStorage:e}),y=e},E=()=>{const e=document.querySelector(".scan-translator-overlay-wrapper");if(e){e.classList.remove("scan-translator-overlay-wrapper");const n=e.querySelectorAll(".scan-translator-overlay");n&&n.forEach((e=>{e.remove()}))}},T=async e=>{if(!document.querySelector(".scan-translator-panel-root")){const e=document.createElement("div");e.classList.add("scan-translator-panel-root"),document.body.appendChild(e)}if(h=document.querySelector(".scan-translator-panel-root"),!h.shadowRoot){v=h.attachShadow({mode:"open"});const e=document.createElement("div");e.className="shadow-root-class",e.innerHTML='\n  \n<style>\np {\n  margin: 0;\n  display: flex;\n}\n\n.shadow-root-class {\n  display: flex;\n  align-items: flex-start;\n  font-family: \'Source Sans Pro\', sans-serif;\n  font-size: 16px;\n}\n\n/* ================ HEADER ========== */\n.scan-translator-panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.remaining-request-container {\n  color: white;\n  display: flex;\n  align-items: center;\n  align-items: center;\n  gap: 8px;\n}\n\n.tooltip__content, .tooltip__version__content{\n  display: none;\n  position: absolute;\n  left: 22px;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: #2D2F4B;\n  font-size: 14px;\n  width: 210px;\n  padding: 7px;\n  text-align: center;\n  border-radius: 5px;\n  z-index: 10;\n}\n\n.tooltip__version__content {\n  left: 100px;\n}\n\n.tooltip__content p, .tooltip__version__content p {\n  margin: 0;\n  justify-content: center;\n  color: white;\n}\n\n.tooltip__version:hover .tooltip__version__content {\n  display: block;\n}\n\n.info-bubble:hover + .tooltip__content {\n  display: block;\n}\n\n.tooltip, .tooltip__version {\n  position: relative;\n  cursor: pointer;\n  display: flex;\n}\n\n.scan-translator-panel-link {\n  color: white;\n  margin-bottom: 12px;\n  display: flex;\n}\n\n.scan-translator-panel-version-container {\n  display: flex;\n  align-items: center;\n  padding: 8px 16px;\n  border-radius: 26px;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n  color: white;\n  gap: 4px;\n  text-decoration: none;\n}\n\n.scan-translator--update {\n  border: 2px solid #d07878;\n}\n\n/* ================ BUTTON ========== */\n.scan-translator-panel-btn-toggle {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 9px;\n  width: 100%;\n  border-radius: 4px;\n  appearance: none;\n  color: white;\n  padding: 16px;\n  background: linear-gradient(130.47deg, #4147A9 24.87%, #5B4696 73.02%);\n  border: none;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 500;\n  margin-bottom: 16px;\n  border: solid 1px #2D304B;\n}\n\n.scan-translator-panel-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 9px;\n  width: 100%;\n  border-radius: 4px;\n  appearance: none;\n  color: white;\n  padding: 16px;\n  background: linear-gradient(130.47deg, #4147A9 24.87%, #5B4696 73.02%);\n  border: none;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 500;\n  margin-bottom: 16px;\n}\n\n.scan-translator-panel-btn-default {\n  justify-content: center;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.scan-translator-panel-btn-default svg, .scan-translator-panel-btn-default div  {\n  display: none;\n}\n/* ================ BUTTON ========== */\n\n.scan-translator-panel-radial-gradient {\n  height: 1px;\n  background: radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.2) 32.81%, rgba(255, 255, 255, 0) 100%, rgba(255, 255, 255, 0.2) 100%);\n  width: 50%;\n  margin: 0 auto;\n  margin-bottom: 16px;\n}\n\n.disable {\n  background: gray;\n  cursor: not-allowed;\n}\n\n.scan-translator-panel {\n  border-top-right-radius: 8px;\n  border-bottom-right-radius: 8px;\n  background: linear-gradient(180deg, #1A1D3E 17.19%, #000211 100%);\n  padding: 16px;\n}\n\n.scan-translator-panel-toggle {\n  padding: 15px 10px;\n  margin-top: 16px;\n  border-radius: 0px 8px 8px 0px;\n  cursor: pointer;\n  background: linear-gradient(270deg, #1A1D3E 57.29%, #050926 100%);\n}\n\n.close svg {\n  transform: rotate(180deg);\n}\n\n/* ================ SELECT ========== */\n.scan-translator-panel-select-container {\n  position: relative;\n}\n\n.scan-translator-panel-select-container svg {\n  position: absolute;\n  top: 50%;\n  right: 16px;\n  transform: translate(0, -50%);\n}\n\n.scan-translator-panel-select-form {\n  margin-bottom: 16px;\n}\n\n.scan-translator-panel-select-form p {\n  color: white;\n  font-weight: 500;\n  margin-bottom: 8px;\n}\n\n.scan-translator-panel-select-form select {\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n  appearance: none;\n  background: rgba(255, 255, 255, 0.1); \n  padding: 16px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  color: white;\n  padding: 12px 8px;\n  border-radius: 4px;\n}\n\n.info {\n  font-weight: 510;\n  color: #87899E;\n  display: block;\n  max-width: 256px;\n}\n\n.scan-translator-panel-select-form option {\n  font-size: 14px;\n  font-weight: 400;\n  color: white;\n  background: #2D304B;\n}\n/* ================ SELECT ========== */\n\n</style>\n\n<div class="scan-translator-panel">\n\n<div class="scan-translator-panel-header">\n  <div class="remaining-request-container">\n    <div class="tooltip">\n      <svg class="info-bubble" fill="none" width="20" height="20" viewBox="0 0 22 22" stroke-width="1.5" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />\n      </svg>\n      <div class="tooltip__content">\n        <p>See your remaining credits <br />reset every week after your first request</p>\n      </div>\n    </div>  \n    <p class="js-remaining-request"></p>\n  </div>\n\n  <div class="tooltip__version">\n    <a class="scan-translator-panel-version-container" href="https://scan-translator.com/blog" target="_blank">\n      <svg width="20" height="20" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M9.96715 1.3C9.00957 1.3 8.23334 2.0761 8.23334 3.03329C8.23334 3.83981 8.78688 4.51191 9.53334 4.70522V5.63329C9.53334 5.87262 9.33912 6.06658 9.10005 6.06658H4.76676C4.27666 6.06658 3.82985 6.23545 3.46676 6.51014V4.70574C4.21322 4.51191 4.76676 3.83994 4.76676 3.03342C4.76676 2.0761 3.99066 1.3 3.03334 1.3C2.07602 1.3 1.30005 2.0761 1.30005 3.03329C1.30005 3.83981 1.85359 4.51191 2.60005 4.70483V8.29504C1.85359 8.48796 1.30005 9.15993 1.30005 9.96658C1.30005 10.9239 2.07615 11.7 3.03334 11.7C3.99053 11.7 4.76663 10.9239 4.76663 9.96671C4.76663 9.16006 4.21309 8.48809 3.46663 8.29517V8.23329C3.46663 7.5153 4.0489 6.93329 4.76663 6.93329H9.10005C9.81778 6.93329 10.4 6.35141 10.4 5.63329V4.70548C11.1461 4.51204 11.7 3.84007 11.7 3.03329C11.7 2.0761 10.9239 1.3 9.96715 1.3ZM3.90005 9.96671C3.90005 10.4458 3.512 10.8333 3.03334 10.8333C2.55468 10.8333 2.16663 10.4458 2.16663 9.96671C2.16663 9.48805 2.55468 9.1 3.03334 9.1C3.512 9.1 3.90005 9.48805 3.90005 9.96671ZM3.03334 3.9C2.55468 3.9 2.16663 3.51195 2.16663 3.03329C2.16663 2.55463 2.55468 2.16658 3.03334 2.16658C3.512 2.16658 3.90005 2.55476 3.90005 3.03329C3.90005 3.51182 3.512 3.9 3.03334 3.9ZM9.96676 3.9C9.4881 3.9 9.10005 3.51195 9.10005 3.03329C9.10005 2.55463 9.4881 2.16658 9.96676 2.16658C10.4454 2.16658 10.8333 2.55463 10.8333 3.03329C10.8333 3.51195 10.4454 3.9 9.96676 3.9Z" fill="white"/>\n      </svg>\n      \n      <p class="scan-translator-panel-js-version">v.1.0</p>\n    </a>\n    <div class="tooltip__version__content">\n      <p>Click here to see our latest post and the new features we added !</p>\n    </div>\n  </div> \n</div>\n\n<a class="scan-translator-panel-link" target="_blank" href="https://forms.gle/HbJVfWqK5sdCyqLT8">Help us to improve the extension !</a>\n\n<div class="scan-translator-panel-select-form">\n  <p>Translated to</p>\n\n  <div class="scan-translator-panel-select-container">\n    <select class="js-panel-translated-to-select"></select>\n\n    <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M0.937531 3.28129C1.17746 3.28129 1.41742 3.37279 1.60044 3.55585L7.50006 9.45543L13.3996 3.55585C13.7657 3.1897 14.3593 3.1897 14.7254 3.55585C15.0915 3.92196 15.0915 4.51555 14.7254 4.88166L8.16297 11.4442C7.98713 11.62 7.74872 11.7188 7.50006 11.7188C7.25145 11.7188 7.01295 11.62 6.83711 11.4442L0.274624 4.8817C-0.0914869 4.51559 -0.0914869 3.922 0.274624 3.55589C0.457638 3.37279 0.697604 3.28129 0.937531 3.28129Z" fill="white"/>\n    </svg>\n  </div>          \n  </div>\n<div class="scan-translator-panel-radial-gradient"></div>\n\n<button class="scan-translator-panel-btn-toggle js-show-translations">\n<div></div>\n<span>Original (T)</span>\n  <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g clip-path="url(#clip0_1_688)">\n    <path d="M9.76764 1.63444C9.45824 1.32463 8.95582 1.32482 8.64601 1.63444L3.59787 6.68277L1.35419 4.43911C1.04438 4.1293 0.542174 4.1293 0.23236 4.43911C-0.0774534 4.74893 -0.0774534 5.25113 0.23236 5.56094L3.03684 8.36542C3.19165 8.52023 3.39464 8.59783 3.59765 8.59783C3.80067 8.59783 4.00386 8.52042 4.15867 8.36542L9.76764 2.75625C10.0775 2.44665 10.0775 1.94423 9.76764 1.63444Z" fill="white"/>\n    </g>\n    <defs>\n    <clipPath id="clip0_1_688">\n    <rect width="10" height="10" fill="white"/>\n    </clipPath>\n    </defs>\n  </svg>\n</button>\n\n<button class="scan-translator-panel-btn js-translate-page">\n  Translate (Q)\n</button>\n\n<button class="scan-translator-panel-btn js-translate-all-images">\n  Translate all images <br /> (Use lot of credits, take care)\n</button>\n</div>\n\n<div class="scan-translator-panel-toggle js-panel-toggle">\n<svg width="15" height="15" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M7.81251 0.625005C7.81251 0.784955 7.7515 0.944934 7.62946 1.06694L3.69641 5.00003L7.62946 8.93305C7.87357 9.1771 7.87357 9.57286 7.62946 9.81693C7.38539 10.061 6.98966 10.061 6.74559 9.81693L2.37057 5.44196C2.25337 5.32474 2.1875 5.1658 2.1875 5.00003C2.1875 4.83428 2.25337 4.67528 2.37057 4.55806L6.74556 0.183067C6.98963 -0.0610065 7.38536 -0.0610065 7.62944 0.183067C7.7515 0.305077 7.81251 0.465055 7.81251 0.625005Z" fill="white"/>\n</svg>\n</div>\n',v.appendChild(e)}const n=document.querySelector(".scan-translator-panel-root").shadowRoot,a=n.querySelector(".js-panel-translated-to-select");n.querySelector(".scan-translator-panel-js-version").innerHTML=`v.${g}`,chrome.storage.local.get(["showUpdate","lastVersion","blogUrl"],(e=>{if(e.showUpdate&&(!e.lastVersion||e.lastVersion&&e.lastVersion!==g)){const n=document.querySelector(".scan-translator-panel-root")?.shadowRoot;if(n){const t=n.querySelector(".scan-translator-panel-version-container");t.classList.add("scan-translator--update"),t.href=e.blogUrl,t.addEventListener("click",(()=>{t.classList.remove("scan-translator--update"),chrome.storage.local.set({showUpdate:!1,lastVersion:g})}))}}})),k(),a.options.length||m.forEach((n=>{const t=document.createElement("option");t.value=n.value,t.innerHTML=n.name,n.value===e&&t.setAttribute("selected",!0),a.appendChild(t)}));const o=n.querySelector(".scan-translator-panel-toggle"),s=document.querySelector(".scan-translator-panel-root");s.style.zIndex=t()+1;await R("scanTranslatorOpenPanel")?(o.classList.remove("close"),s.classList.remove("scan-translator-panel--hide")):(s.classList.add("scan-translator-panel--hide"),o.classList.add("close"),s.style.transition="unset",setTimeout((()=>{s.style.transition="transform 600ms ease-in-out"}),500));const r=()=>{const e=document.querySelectorAll(".scan-translator-overlay"),t=n.querySelector(".scan-translator-panel-btn-default");l.classList.toggle("scan-translator-panel-btn-default"),t?e.forEach((e=>{e.style.display="block"})):e.forEach((e=>{e.style.display="none"}))};o.addEventListener("click",(e=>{e.stopImmediatePropagation(),o.classList.contains("close")?(o.classList.remove("close"),s.classList.remove("scan-translator-panel--hide"),chrome.storage.local.set({scanTranslatorOpenPanel:!0})):(s.classList.add("scan-translator-panel--hide"),o.classList.add("close"),chrome.storage.local.set({scanTranslatorOpenPanel:!1}))}));const l=n.querySelector(".js-show-translations");l.addEventListener("click",(e=>{e.stopImmediatePropagation(),r()}));const i=n.querySelector(".js-panel-translated-to-select");i.addEventListener("change",(e=>{e.stopImmediatePropagation(),f=i.value,chrome.storage.local.set({scanTranslatorTargetLangEvent:i.value})}));const c=n.querySelector(".js-translate-page"),d=n.querySelector(".js-translate-all-images");d.addEventListener("click",(e=>{e.stopImmediatePropagation();try{d.classList.add("disable"),I()}catch(e){d.classList.remove("disable")}})),c.addEventListener("click",(e=>{e.stopImmediatePropagation();try{c.classList.add("disable"),A()}catch(e){c.classList.remove("disable")}})),document.addEventListener("keydown",(e=>{if(e.stopImmediatePropagation(),"q"===e.key)try{c.classList.add("disable"),A()}catch(e){c.classList.remove("disable")}"t"===e.key&&r()}))},_=()=>{const e=document.querySelector(".scan-translator-panel-root");e&&e.remove()},k=async e=>{const n=document.querySelector(".scan-translator-panel-root").shadowRoot,t=e||await R("scanTranslatorApiResponse"),a=n.querySelector(".js-remaining-request");a.innerHTML=t?`<p class="js-remaining-request">${t.meta?.ratelimit_remaining??0}/${t.meta?.ratelimit_limit??20}</p>`:'<p class="js-remaining-request">20/20</p>'},q=()=>{const n=window.innerWidth,t=window.innerHeight,a=document.querySelectorAll("img, canvas");for(const o of a){const a=o.getBoundingClientRect();a.top>=0&&a.left>=0&&a.bottom<=t&&a.right<=n&&"canvas"===o.nodeName.toLocaleLowerCase()&&e(p.SITE_NOT_SUPPORTED)}},I=async()=>{q();const n=Array.from(document.querySelectorAll("img")).filter((e=>"none"!==e.style.display&&!e.src.endsWith(".gif")));let t,a=0;for(const o of n){o.src.startsWith("blob:")&&e(p.SITE_NOT_SUPPORTED);const n=o.width*o.height;n>=a&&(a=n,t=o)}!async function(){for(const e of n)if(e.width===t.width){const n=await M(e);await P(e,n)}}()},A=async()=>{if(q(),new URL(window.location).hostname===u.HITOMI){const e=document.querySelector("#comicImages img"),n=await M(e);return void P(e,n)}const n=document.images;let t,a=0;for(const e of n)if(O(e)){const n=e.width*e.height;n>=a&&(a=n,t=e)}if(t){t.src.startsWith("blob:")&&e(p.SITE_NOT_SUPPORTED);const n=await M(t);P(t,n)}return null},M=e=>new Promise((n=>{const t=document.createElement("canvas"),a=t.getContext("2d"),o=new Image;o.crossOrigin="anonymous";o.src="https://corsproxy.io/?"+encodeURIComponent(e.src),o.onload=()=>{t.width=o.width,t.height=o.height,a.drawImage(o,0,0);try{const e=t.toDataURL();n(e)}catch(e){n(null)}},o.onerror=e=>{n(null)}})),O=e=>{if(!window||"none"===e.style.display||e.src.endsWith(".gif"))return;const n=window.document,t=e.getBoundingClientRect();return t.top<=(window.innerHeight||n.documentElement.clientHeight)&&t.left<=(window.innerWidth||n.documentElement.clientWidth)&&t.bottom>=0&&t.right>=0},P=async(a,r)=>{let l,i=null;new URL(window.location).hostname===u.HITOMI&&(i=document.querySelector("#comicImages picture")),i||(i="A"===a.parentNode.tagName?a.parentNode.parentNode:a.parentNode),i.classList.add("scan-translator-overlay-wrapper");const c=document.createElement("div");c.classList.add("scan-translator-overlay-loader"),Object.assign(c.style,{position:"absolute",padding:"10px",top:`${a.offsetTop}px`,left:`${a.offsetLeft}px`,width:`${a.width}px`,height:`${a.height}px`,zIndex:t()+2}),i.appendChild(c);const d=await R("scanTranslatorApiResponse");d?.imageUrl===a.src&&d.data?.translation_languages.includes(f)&&(l=d),i.classList.contains("scan-translator-overlay-wrapper")&&i.querySelector(".scan-translator-overlay")&&d?.imageUrl===a.src&&!d.data?.translation_languages.includes(f)&&i.querySelector(".scan-translator-overlay").remove();const m=l||await U(r||a.src,"https://scan-translator.com/api/translations",r?"base64":"url",a.src);if(m?.statusCode&&!m?.data?.blocks.length||m?.statusCode&&404===m?.statusCode){const t=await R("scanTranslatorApiResponse");t&&(t.meta.ratelimit_remaining=t.meta.ratelimit_remaining-1),chrome.storage.local.set({scanTranslatorApiResponse:t}),n(),k(),e(p.NO_TEXT_FOUND)}if(m?.statusCode&&200!==m?.statusCode&&(n(),e(p.GLOBAL)),m){const e=document.querySelector(".scan-translator-error-message");e&&e.remove();const n=document.createElement("div");n.classList.add("scan-translator-overlay"),Object.assign(n.style,{position:"absolute",padding:"10px",top:`${a.offsetTop}px`,left:`${a.offsetLeft}px`,width:`${a.width}px`,height:`${a.height}px`,zIndex:t()+1}),i.appendChild(n),window.onresize=()=>{N(a,n)};const r=`block_text_${f}`,l=j(a);for(const e of m.data?.blocks)if(e.block_confidence>.45&&!/^0*$/.test(e.block_text_original.trim())&&e[r].length>1){const t=document.createElement("div");t.classList.add("scan-translator-bubble"),Object.assign(t.style,{top:e.block_position.top*l-3+"px",left:e.block_position.left*l-3+"px",width:e.block_size.width*l+"px",height:e.block_size.height*l+"px",minHeight:e.block_size.height*l+"px"});const a=document.createElement("p");a.classList.add("scan-translator-text"),a.style.setProperty("color","black","important"),"TH"===f&&(a.style.fontFamily="Arial"),a.innerHTML=e[r],a.addEventListener("click",(()=>{navigator.clipboard.writeText(e[r]);const n=document.createElement("div");n.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">\n            <path stroke-linecap="round" stroke-linejoin="round" d="M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75" />\n          </svg>\n          ',n.classList.add("scan-translator-copied-icon"),a.appendChild(n),setTimeout((()=>{n.remove()}),800)})),t.appendChild(a),n.appendChild(t)}w?H(w):o({elements:document.querySelectorAll(".scan-translator-text"),step:.5}),document.querySelectorAll(".scan-translator-bubble").forEach((e=>{s(e)}));document.querySelector(".scan-translator-panel-root").style.zIndex=t()+1,k()}n()},H=e=>{document.querySelectorAll(".scan-translator-text").forEach((n=>{n.style.fontSize=`${e}px`}))},U=async(t,a,o,s)=>{try{const r=await fetch(a,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json","license-key":y||await R("licenseKeyLocalStorage"),fingerPrintId:l()},body:JSON.stringify({image:t,target_lang:f,website_url:window.location.href,user_agent:navigator.userAgent,image_type:o})}),i=await r.json();return 429===i.statusCode&&(n(),k(i),e(p.LIMIT_EXCEEDED)),200===r.status&&(k(i),chrome.storage.local.set({scanTranslatorApiResponse:{...i,imageUrl:s}})),i}catch(e){console.log(e)}},j=e=>{const n=e.naturalWidth;return e.offsetWidth/n},R=async function(e){return new Promise((n=>{chrome.storage.local.get(e,(function(t){n(t[e])}))}))},N=(e,n)=>{Object.assign(n.style,{top:`${e.offsetTop}px`,left:`${e.offsetLeft}px`})};window.addEventListener("DOMContentLoaded",b),chrome.runtime.onMessage.addListener(x)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxTQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxRQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxxQkFDTkMsTUFBTyxTQUVULENBQ0VELEtBQU0sb0JBQ05DLE1BQU8sU0FFVCxDQUNFRCxLQUFNLFdBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFVBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFNBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFdBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFNBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFFBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFNBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFFBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFlBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFlBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLGFBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFVBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFdBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFNBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFVBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLE1BQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLFVBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLGFBQ05DLE1BQU8sTUFFVCxDQUNFRCxLQUFNLGdCQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxhQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxXQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxRQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxVQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxZQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxTQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxZQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxVQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSxTQUNOQyxNQUFPLE1BRVQsQ0FDRUQsS0FBTSx5QkFDTkMsTUFB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T2dCLEVBQTBCLDBCQUNuQ2dKLGNBQWU1TSxLQUVqQnZELEtBQU1vUSxLQUFLQyxVQUFVLENBQ25CaEYsTUFBT0EsRUFDUGlGLFlBQWFySyxFQUNic0ssWUFBYXRQLE9BQU9rTCxTQUFTckQsS0FDN0IwSCxXQUFZOUwsVUFBVStMLFVBQ3RCQyxXQUFZL0wsTUFJVitELFFBQWVvSCxFQUFTYSxPQWU5QixPQWIwQixNQUF0QmpJLEVBQU95RixhQUNUL04sSUFDQTRJLEVBQXdCTixHQUN4QnZLLEVBQVU2RyxFQUFjSSxpQkFHRixNQUFwQjBLLEVBQVNjLFNBQ1g1SCxFQUF3Qk4sR0FDeEIvQyxPQUFPbUMsUUFBUUMsTUFBTUMsSUFBSSxDQUN2Qm9DLDBCQUEyQixJQUFLMUIsRSxTQUFRbUYsTUFJckNuRixDQUdULENBRkUsTUFBTzJFLEdBQ1B3RCxRQUFRQyxJQUFJekQsRUFDZCxHQUdJdUIsRUFBbUJ2RCxJQUN2QixNQUFNMEYsRUFBZ0IxRixFQUFNMkYsYUFHNUIsT0FGcUIzRixFQUFNNEYsWUFFTEYsQ0FBQSxFQUdsQjVKLEVBQTRCYixlQUFnQnVCLEdBQ2hELE9BQU8sSUFBSTRFLFNBQVNDLElBQ2xCL0csT0FBT21DLFFBQVFDLE1BQU1VLElBQUlaLEdBQUssU0FBVXBDLEdBQ3RDaUgsRUFBUWpILEVBQU1vQyxHQUNoQixNQUVKLEVBRU00RyxFQUF3QixDQUFDcEQsRUFBT2tELEtBQ3BDN1AsT0FBT0MsT0FBTzRQLEVBQVEzUCxNQUFPLENBQzNCSyxJQUFLLEdBQUdvTSxFQUFNakksY0FDZGxFLEtBQU0sR0FBR21NLEVBQU1oSSxnQkFDakIsRUE1dUJBcEMsT0FBT2hCLGlCQUFpQixtQkFBb0JtRyxHQUM1Q1QsT0FBT0MsUUFBUXNMLFVBQVVDLFlBQVk5SyxFIiwic291cmNlcyI6WyJzcmMvdXRpbHMuanMiLCJjb25zdGFudHMuanMiLCJzcmMvY29udGVudC1zY3JpcHQvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2hvd0Vycm9yID0gKGVycm9yTWVzc2FnZSkgPT4ge1xuICAvLyBDcmVhdGUgdGhlIGVycm9yIHRvYXN0XG4gIGNvbnN0IHRvYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgdG9hc3QuY2xhc3NMaXN0LmFkZCgnc2Nhbi10cmFuc2xhdG9yLWVycm9yLW1lc3NhZ2UnKVxuXG4gIC8vIFN0eWxlIHRoZSBlcnJvciB0b2FzdFxuICBPYmplY3QuYXNzaWduKHRvYXN0LnN0eWxlLCB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGdhcDogJzhweCcsXG4gICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgdG9wOiAnNTAlJyxcbiAgICBsZWZ0OiAnNTAlJyxcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgIHBhZGRpbmc6ICcxMnB4IDI0cHgnLFxuICAgIGJhY2tncm91bmQ6ICdyZ2JhKDE5MywgMjIsIDIyLCAxKScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgIGJvcmRlclJhZGl1czogJzZweCcsXG4gICAgekluZGV4OiBnZXRNYXhaSW5kZXgoKSArIDEsXG4gIH0pXG5cbiAgY29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICBtZXNzYWdlLmlubmVySFRNTCA9IGVycm9yTWVzc2FnZVxuXG4gIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgY2xvc2VCdG4uaW5uZXJIVE1MID1cbiAgICAnPHN2ZyBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjJcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgaGVpZ2h0PVwiMTZweFwiIHdpZHRoPVwiMTZweFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48bGluZSB4MT1cIjE4XCIgeTE9XCI2XCIgeDI9XCI2XCIgeTI9XCIxOFwiPjwvbGluZT48bGluZSB4MT1cIjZcIiB5MT1cIjZcIiB4Mj1cIjE4XCIgeTI9XCIxOFwiPjwvbGluZT48L3N2Zz4nXG5cbiAgLy8gQWRkIHRoZSBlcnJvck1lc3NhZ2UgdG8gdGhlIHRvYXN0XG4gIHRvYXN0LmFwcGVuZENoaWxkKG1lc3NhZ2UpXG5cbiAgLy8gQWRkIHRoZSBjbG9zZSBidXR0b24gdG8gdGhlIHRvYXN0XG4gIHRvYXN0LmFwcGVuZENoaWxkKGNsb3NlQnRuKVxuXG4gIC8vIEFkZCB0aGUgZXJyb3IgdG9hc3QgdG8gdGhlIHBhZ2VcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b2FzdClcblxuICAvLyBSZW1vdmUgdGhlIHRvYXN0IHdoZW4geW91IGNsaWNrIG9uIHRoZSBidXR0b25cbiAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdG9hc3QucmVtb3ZlKClcbiAgfSlcblxuICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkJylcbn1cblxuY29uc3QgcmVtb3ZlTG9hZGluZ092ZXJsYXkgPSAoKSA9PiB7XG4gIGNvbnN0IHNoYWRvd0RvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5zY2FuLXRyYW5zbGF0b3ItcGFuZWwtcm9vdCdcbiAgKS5zaGFkb3dSb290XG4gIGNvbnN0IHRyYW5zbGF0ZUJ1dHRvbiA9IHNoYWRvd0RvbT8ucXVlcnlTZWxlY3RvcignLmpzLXRyYW5zbGF0ZS1wYWdlJylcbiAgY29uc3QgdHJhbnNsYXRlQWxsSW1hZ2VCdXR0b24gPSBzaGFkb3dEb20/LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5qcy10cmFuc2xhdGUtYWxsLWltYWdlcydcbiAgKVxuICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjYW4tdHJhbnNsYXRvci1vdmVybGF5LWxvYWRlcicpXG5cbiAgb3ZlcmxheT8ucmVtb3ZlKClcbiAgdHJhbnNsYXRlQnV0dG9uPy5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlJylcbiAgdHJhbnNsYXRlQWxsSW1hZ2VCdXR0b24/LmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGUnKVxufVxuXG5jb25zdCBnZXRNYXhaSW5kZXggPSAoKSA9PiB7XG4gIHJldHVybiBNYXRoLm1heChcbiAgICAuLi5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2JvZHkgKicpLCAoZWwpID0+XG4gICAgICBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS56SW5kZXgpXG4gICAgKS5maWx0ZXIoKHpJbmRleCkgPT4gIU51bWJlci5pc05hTih6SW5kZXgpKSxcbiAgICAwXG4gIClcbn1cblxuY29uc3QgaXNPdmVyZmxvd24gPSAoeyBjbGllbnRIZWlnaHQsIHNjcm9sbEhlaWdodCB9KSA9PlxuICBzY3JvbGxIZWlnaHQgPiBjbGllbnRIZWlnaHRcblxuY29uc3QgcmVzaXplVGV4dCA9ICh7XG4gIGVsZW1lbnQsXG4gIGVsZW1lbnRzLFxuICBtaW5TaXplID0gMTQsXG4gIG1heFNpemUgPSAyMixcbiAgc3RlcCA9IDEsXG4gIHVuaXQgPSAncHgnLFxufSkgPT4ge1xuICA7KGVsZW1lbnRzIHx8IFtlbGVtZW50XSkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBsZXQgaSA9IG1pblNpemVcbiAgICBsZXQgb3ZlcmZsb3cgPSBmYWxzZVxuXG4gICAgY29uc3QgcGFyZW50ID0gZWwucGFyZW50Tm9kZVxuXG4gICAgd2hpbGUgKCFvdmVyZmxvdyAmJiBpIDwgbWF4U2l6ZSkge1xuICAgICAgZWwuc3R5bGUuZm9udFNpemUgPSBgJHtpfSR7dW5pdH1gXG4gICAgICBvdmVyZmxvdyA9IGlzT3ZlcmZsb3duKHBhcmVudClcblxuICAgICAgaWYgKCFvdmVyZmxvdykgaSArPSBzdGVwXG4gICAgfVxuXG4gICAgZWwuc3R5bGUuZm9udFNpemUgPSBgJHtpIC0gc3RlcH0ke3VuaXR9YFxuICB9KVxufVxuXG5jb25zdCBkcmFnRWxlbWVudCA9IChlbCkgPT4ge1xuICBsZXQgcG9zMSA9IDAsXG4gICAgcG9zMiA9IDAsXG4gICAgcG9zMyA9IDAsXG4gICAgcG9zNCA9IDBcblxuICBlbC5vbm1vdXNlZG93biA9IGRyYWdNb3VzZURvd25cblxuICBmdW5jdGlvbiBkcmFnTW91c2VEb3duKGUpIHtcbiAgICAvL2lmICghZHJhZ2dpbmdFbmFibGVkKSByZXR1cm5cblxuICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudFxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIC8vIGdldCB0aGUgbW91c2UgY3Vyc29yIHBvc2l0aW9uIGF0IHN0YXJ0dXA6XG4gICAgcG9zMyA9IGUuY2xpZW50WFxuICAgIHBvczQgPSBlLmNsaWVudFlcbiAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBjbG9zZURyYWdFbGVtZW50XG4gICAgLy8gY2FsbCBhIGZ1bmN0aW9uIHdoZW5ldmVyIHRoZSBjdXJzb3IgbW92ZXM6XG4gICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBlbGVtZW50RHJhZ1xuICB9XG5cbiAgY29uc3QgZWxlbWVudERyYWcgPSAoZSkgPT4ge1xuICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudFxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IGN1cnNvciBwb3NpdGlvbjpcbiAgICBwb3MxID0gcG9zMyAtIGUuY2xpZW50WFxuICAgIHBvczIgPSBwb3M0IC0gZS5jbGllbnRZXG4gICAgcG9zMyA9IGUuY2xpZW50WFxuICAgIHBvczQgPSBlLmNsaWVudFlcbiAgICAvLyBzZXQgdGhlIGVsZW1lbnQncyBuZXcgcG9zaXRpb246XG4gICAgZWwuc3R5bGUudG9wID0gZWwub2Zmc2V0VG9wIC0gcG9zMiArICdweCdcbiAgICBlbC5zdHlsZS5sZWZ0ID0gZWwub2Zmc2V0TGVmdCAtIHBvczEgKyAncHgnXG4gIH1cblxuICBjb25zdCBjbG9zZURyYWdFbGVtZW50ID0gKCkgPT4ge1xuICAgIC8vIHN0b3AgbW92aW5nIHdoZW4gbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkOlxuICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IG51bGxcbiAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IG51bGxcbiAgfVxufVxuXG5jb25zdCBkaXNhYmxlRHJhZyA9ICgpID0+IHtcbiAgZHJhZ2dpbmdFbmFibGVkID0gZmFsc2Vcbn1cblxuY29uc3QgZW5hYmxlRHJhZyA9ICgpID0+IHtcbiAgZHJhZ2dpbmdFbmFibGVkID0gdHJ1ZVxufVxuXG5sZXQgZmluZ2VycHJpbnQgPSBudWxsXG5jb25zdCBnZXRGaW5nZXJwcmludCA9ICgpID0+IHtcbiAgaWYgKGZpbmdlcnByaW50KSB7XG4gICAgcmV0dXJuIGZpbmdlcnByaW50XG4gIH1cblxuICAvLyBJbml0aWFsaXplIGZpbmdlcnByaW50LlxuICBjb25zdCB3ZWJHbFJlbmRlcmVyID0gZ2V0V2ViR2xSZW5kZXJlcigpXG4gIGNvbnN0IGhhcmR3YXJlID0gZ2V0SGFyZHdhcmUoKVxuICBjb25zdCBjb25uZWN0aW9uU3RyaW5nID0gZ2V0Q29ubmVjdGlvblN0cmluZygpXG4gIGNvbnN0IHRpbWV6b25lQ29kZSA9IG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKVxuICBmaW5nZXJwcmludCA9IGJ0b2EoXG4gICAgYCR7d2ViR2xSZW5kZXJlcn0tJHtoYXJkd2FyZX0tJHtjb25uZWN0aW9uU3RyaW5nfS0ke3RpbWV6b25lQ29kZX1gXG4gIClcblxuICByZXR1cm4gZmluZ2VycHJpbnRcbn1cblxuY29uc3QgZ2V0V2ViR2xSZW5kZXJlciA9ICgpID0+IHtcbiAgY29uc3QgZ2wgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsIDApLmdldENvbnRleHQoJ3dlYmdsJylcbiAgaWYgKCFnbCkge1xuICAgIHJldHVybiAnbm9uZSdcbiAgfVxuICBjb25zdCBkZWJ1Z0luZm8gPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8nKVxuICByZXR1cm4gZGVidWdJbmZvXG4gICAgPyBnbC5nZXRQYXJhbWV0ZXIoZGVidWdJbmZvLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKVxuICAgIDogJ3Vua25vd24nXG59XG5cbmNvbnN0IGdldEhhcmR3YXJlID0gKCkgPT4ge1xuICBjb25zdCBoYXJkd2FyZUNvbmN1cnJlbmN5ID0gbmF2aWdhdG9yPy5oYXJkd2FyZUNvbmN1cnJlbmN5XG4gIGNvbnN0IGRldmljZU1lbW9yeSA9IG5hdmlnYXRvclsnZGV2aWNlTWVtb3J5J11cbiAgcmV0dXJuIGAke2hhcmR3YXJlQ29uY3VycmVuY3l9LSR7ZGV2aWNlTWVtb3J5fWBcbn1cblxuY29uc3QgZ2V0Q29ubmVjdGlvblN0cmluZyA9ICgpID0+IHtcbiAgY29uc3QgdHlwZSA9IG5hdmlnYXRvclsnY29ubmVjdGlvbiddPy50eXBlXG4gIGNvbnN0IHJ0dCA9IG5hdmlnYXRvclsnY29ubmVjdGlvbiddPy5ydHRcbiAgY29uc3QgZG93bmxpbmtNYXggPSBuYXZpZ2F0b3JbJ2Nvbm5lY3Rpb24nXT8uZG93bmxpbmtNYXhcbiAgY29uc3QgZWZmZWN0aXZlVHlwZSA9IG5hdmlnYXRvclsnY29ubmVjdGlvbiddPy5lZmZlY3RpdmVUeXBlXG4gIGNvbnN0IHNhdmVEYXRhID0gbmF2aWdhdG9yWydjb25uZWN0aW9uJ10/LnNhdmVEYXRhXG4gIHJldHVybiBgJHt0eXBlfS0ke3J0dH0tJHtkb3dubGlua01heH0tJHtlZmZlY3RpdmVUeXBlfS0ke3NhdmVEYXRhfWBcbn1cblxuY29uc3QgcGFuZWxIdG1sU3RyaW5nID0gYFxuICBcbjxzdHlsZT5cbnAge1xuICBtYXJnaW46IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbi5zaGFkb3ctcm9vdC1jbGFzcyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBmb250LWZhbWlseTogJ1NvdXJjZSBTYW5zIFBybycsIHNhbnMtc2VyaWY7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cblxuLyogPT09PT09PT09PT09PT09PSBIRUFERVIgPT09PT09PT09PSAqL1xuLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG59XG5cbi5yZW1haW5pbmctcmVxdWVzdC1jb250YWluZXIge1xuICBjb2xvcjogd2hpdGU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogOHB4O1xufVxuXG4udG9vbHRpcF9fY29udGVudCwgLnRvb2x0aXBfX3ZlcnNpb25fX2NvbnRlbnR7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMjJweDtcbiAgdG9wOiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJEMkY0QjtcbiAgZm9udC1zaXplOiAxNHB4O1xuICB3aWR0aDogMjEwcHg7XG4gIHBhZGRpbmc6IDdweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHotaW5kZXg6IDEwO1xufVxuXG4udG9vbHRpcF9fdmVyc2lvbl9fY29udGVudCB7XG4gIGxlZnQ6IDEwMHB4O1xufVxuXG4udG9vbHRpcF9fY29udGVudCBwLCAudG9vbHRpcF9fdmVyc2lvbl9fY29udGVudCBwIHtcbiAgbWFyZ2luOiAwO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4udG9vbHRpcF9fdmVyc2lvbjpob3ZlciAudG9vbHRpcF9fdmVyc2lvbl9fY29udGVudCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4uaW5mby1idWJibGU6aG92ZXIgKyAudG9vbHRpcF9fY29udGVudCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4udG9vbHRpcCwgLnRvb2x0aXBfX3ZlcnNpb24ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1saW5rIHtcbiAgY29sb3I6IHdoaXRlO1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICBkaXNwbGF5OiBmbGV4O1xufVxuXG4uc2Nhbi10cmFuc2xhdG9yLXBhbmVsLXZlcnNpb24tY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogOHB4IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDI2cHg7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZ2FwOiA0cHg7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cblxuLnNjYW4tdHJhbnNsYXRvci0tdXBkYXRlIHtcbiAgYm9yZGVyOiAycHggc29saWQgI2QwNzg3ODtcbn1cblxuLyogPT09PT09PT09PT09PT09PSBCVVRUT04gPT09PT09PT09PSAqL1xuLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1idG4tdG9nZ2xlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBnYXA6IDlweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgY29sb3I6IHdoaXRlO1xuICBwYWRkaW5nOiAxNnB4O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTMwLjQ3ZGVnLCAjNDE0N0E5IDI0Ljg3JSwgIzVCNDY5NiA3My4wMiUpO1xuICBib3JkZXI6IG5vbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICBib3JkZXI6IHNvbGlkIDFweCAjMkQzMDRCO1xufVxuXG4uc2Nhbi10cmFuc2xhdG9yLXBhbmVsLWJ0biB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBnYXA6IDlweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgY29sb3I6IHdoaXRlO1xuICBwYWRkaW5nOiAxNnB4O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTMwLjQ3ZGVnLCAjNDE0N0E5IDI0Ljg3JSwgIzVCNDY5NiA3My4wMiUpO1xuICBib3JkZXI6IG5vbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xufVxuXG4uc2Nhbi10cmFuc2xhdG9yLXBhbmVsLWJ0bi1kZWZhdWx0IHtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xufVxuXG4uc2Nhbi10cmFuc2xhdG9yLXBhbmVsLWJ0bi1kZWZhdWx0IHN2ZywgLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1idG4tZGVmYXVsdCBkaXYgIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cbi8qID09PT09PT09PT09PT09PT0gQlVUVE9OID09PT09PT09PT0gKi9cblxuLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1yYWRpYWwtZ3JhZGllbnQge1xuICBoZWlnaHQ6IDFweDtcbiAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KDUwJSA1MCUgYXQgNTAlIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpIDMyLjgxJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwKSAxMDAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMikgMTAwJSk7XG4gIHdpZHRoOiA1MCU7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xufVxuXG4uZGlzYWJsZSB7XG4gIGJhY2tncm91bmQ6IGdyYXk7XG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG59XG5cbi5zY2FuLXRyYW5zbGF0b3ItcGFuZWwge1xuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogOHB4O1xuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogOHB4O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjMUExRDNFIDE3LjE5JSwgIzAwMDIxMSAxMDAlKTtcbiAgcGFkZGluZzogMTZweDtcbn1cblxuLnNjYW4tdHJhbnNsYXRvci1wYW5lbC10b2dnbGUge1xuICBwYWRkaW5nOiAxNXB4IDEwcHg7XG4gIG1hcmdpbi10b3A6IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDBweCA4cHggOHB4IDBweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMjcwZGVnLCAjMUExRDNFIDU3LjI5JSwgIzA1MDkyNiAxMDAlKTtcbn1cblxuLmNsb3NlIHN2ZyB7XG4gIHRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7XG59XG5cbi8qID09PT09PT09PT09PT09PT0gU0VMRUNUID09PT09PT09PT0gKi9cbi5zY2FuLXRyYW5zbGF0b3ItcGFuZWwtc2VsZWN0LWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1zZWxlY3QtY29udGFpbmVyIHN2ZyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA1MCU7XG4gIHJpZ2h0OiAxNnB4O1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtNTAlKTtcbn1cblxuLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1zZWxlY3QtZm9ybSB7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG59XG5cbi5zY2FuLXRyYW5zbGF0b3ItcGFuZWwtc2VsZWN0LWZvcm0gcCB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xufVxuXG4uc2Nhbi10cmFuc2xhdG9yLXBhbmVsLXNlbGVjdC1mb3JtIHNlbGVjdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGFwcGVhcmFuY2U6IG5vbmU7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTsgXG4gIHBhZGRpbmc6IDE2cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgY29sb3I6IHdoaXRlO1xuICBwYWRkaW5nOiAxMnB4IDhweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufVxuXG4uaW5mbyB7XG4gIGZvbnQtd2VpZ2h0OiA1MTA7XG4gIGNvbG9yOiAjODc4OTlFO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWF4LXdpZHRoOiAyNTZweDtcbn1cblxuLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1zZWxlY3QtZm9ybSBvcHRpb24ge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZDogIzJEMzA0Qjtcbn1cbi8qID09PT09PT09PT09PT09PT0gU0VMRUNUID09PT09PT09PT0gKi9cblxuPC9zdHlsZT5cblxuPGRpdiBjbGFzcz1cInNjYW4tdHJhbnNsYXRvci1wYW5lbFwiPlxuXG48ZGl2IGNsYXNzPVwic2Nhbi10cmFuc2xhdG9yLXBhbmVsLWhlYWRlclwiPlxuICA8ZGl2IGNsYXNzPVwicmVtYWluaW5nLXJlcXVlc3QtY29udGFpbmVyXCI+XG4gICAgPGRpdiBjbGFzcz1cInRvb2x0aXBcIj5cbiAgICAgIDxzdmcgY2xhc3M9XCJpbmZvLWJ1YmJsZVwiIGZpbGw9XCJub25lXCIgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMiAyMlwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTExLjI1IDExLjI1bC4wNDEtLjAyYS43NS43NSAwIDAxMS4wNjMuODUybC0uNzA4IDIuODM2YS43NS43NSAwIDAwMS4wNjMuODUzbC4wNDEtLjAyMU0yMSAxMmE5IDkgMCAxMS0xOCAwIDkgOSAwIDAxMTggMHptLTktMy43NWguMDA4di4wMDhIMTJWOC4yNXpcIiAvPlxuICAgICAgPC9zdmc+XG4gICAgICA8ZGl2IGNsYXNzPVwidG9vbHRpcF9fY29udGVudFwiPlxuICAgICAgICA8cD5TZWUgeW91ciByZW1haW5pbmcgY3JlZGl0cyA8YnIgLz5yZXNldCBldmVyeSB3ZWVrIGFmdGVyIHlvdXIgZmlyc3QgcmVxdWVzdDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PiAgXG4gICAgPHAgY2xhc3M9XCJqcy1yZW1haW5pbmctcmVxdWVzdFwiPjwvcD5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cInRvb2x0aXBfX3ZlcnNpb25cIj5cbiAgICA8YSBjbGFzcz1cInNjYW4tdHJhbnNsYXRvci1wYW5lbC12ZXJzaW9uLWNvbnRhaW5lclwiIGhyZWY9XCJodHRwczovL3NjYW4tdHJhbnNsYXRvci5jb20vYmxvZ1wiIHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDEzIDEzXCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICA8cGF0aCBkPVwiTTkuOTY3MTUgMS4zQzkuMDA5NTcgMS4zIDguMjMzMzQgMi4wNzYxIDguMjMzMzQgMy4wMzMyOUM4LjIzMzM0IDMuODM5ODEgOC43ODY4OCA0LjUxMTkxIDkuNTMzMzQgNC43MDUyMlY1LjYzMzI5QzkuNTMzMzQgNS44NzI2MiA5LjMzOTEyIDYuMDY2NTggOS4xMDAwNSA2LjA2NjU4SDQuNzY2NzZDNC4yNzY2NiA2LjA2NjU4IDMuODI5ODUgNi4yMzU0NSAzLjQ2Njc2IDYuNTEwMTRWNC43MDU3NEM0LjIxMzIyIDQuNTExOTEgNC43NjY3NiAzLjgzOTk0IDQuNzY2NzYgMy4wMzM0MkM0Ljc2Njc2IDIuMDc2MSAzLjk5MDY2IDEuMyAzLjAzMzM0IDEuM0MyLjA3NjAyIDEuMyAxLjMwMDA1IDIuMDc2MSAxLjMwMDA1IDMuMDMzMjlDMS4zMDAwNSAzLjgzOTgxIDEuODUzNTkgNC41MTE5MSAyLjYwMDA1IDQuNzA0ODNWOC4yOTUwNEMxLjg1MzU5IDguNDg3OTYgMS4zMDAwNSA5LjE1OTkzIDEuMzAwMDUgOS45NjY1OEMxLjMwMDA1IDEwLjkyMzkgMi4wNzYxNSAxMS43IDMuMDMzMzQgMTEuN0MzLjk5MDUzIDExLjcgNC43NjY2MyAxMC45MjM5IDQuNzY2NjMgOS45NjY3MUM0Ljc2NjYzIDkuMTYwMDYgNC4yMTMwOSA4LjQ4ODA5IDMuNDY2NjMgOC4yOTUxN1Y4LjIzMzI5QzMuNDY2NjMgNy41MTUzIDQuMDQ4OSA2LjkzMzI5IDQuNzY2NjMgNi45MzMyOUg5LjEwMDA1QzkuODE3NzggNi45MzMyOSAxMC40IDYuMzUxNDEgMTAuNCA1LjYzMzI5VjQuNzA1NDhDMTEuMTQ2MSA0LjUxMjA0IDExLjcgMy44NDAwNyAxMS43IDMuMDMzMjlDMTEuNyAyLjA3NjEgMTAuOTIzOSAxLjMgOS45NjcxNSAxLjNaTTMuOTAwMDUgOS45NjY3MUMzLjkwMDA1IDEwLjQ0NTggMy41MTIgMTAuODMzMyAzLjAzMzM0IDEwLjgzMzNDMi41NTQ2OCAxMC44MzMzIDIuMTY2NjMgMTAuNDQ1OCAyLjE2NjYzIDkuOTY2NzFDMi4xNjY2MyA5LjQ4ODA1IDIuNTU0NjggOS4xIDMuMDMzMzQgOS4xQzMuNTEyIDkuMSAzLjkwMDA1IDkuNDg4MDUgMy45MDAwNSA5Ljk2NjcxWk0zLjAzMzM0IDMuOUMyLjU1NDY4IDMuOSAyLjE2NjYzIDMuNTExOTUgMi4xNjY2MyAzLjAzMzI5QzIuMTY2NjMgMi41NTQ2MyAyLjU1NDY4IDIuMTY2NTggMy4wMzMzNCAyLjE2NjU4QzMuNTEyIDIuMTY2NTggMy45MDAwNSAyLjU1NDc2IDMuOTAwMDUgMy4wMzMyOUMzLjkwMDA1IDMuNTExODIgMy41MTIgMy45IDMuMDMzMzQgMy45Wk05Ljk2Njc2IDMuOUM5LjQ4ODEgMy45IDkuMTAwMDUgMy41MTE5NSA5LjEwMDA1IDMuMDMzMjlDOS4xMDAwNSAyLjU1NDYzIDkuNDg4MSAyLjE2NjU4IDkuOTY2NzYgMi4xNjY1OEMxMC40NDU0IDIuMTY2NTggMTAuODMzMyAyLjU1NDYzIDEwLjgzMzMgMy4wMzMyOUMxMC44MzMzIDMuNTExOTUgMTAuNDQ1NCAzLjkgOS45NjY3NiAzLjlaXCIgZmlsbD1cIndoaXRlXCIvPlxuICAgICAgPC9zdmc+XG4gICAgICBcbiAgICAgIDxwIGNsYXNzPVwic2Nhbi10cmFuc2xhdG9yLXBhbmVsLWpzLXZlcnNpb25cIj52LjEuMDwvcD5cbiAgICA8L2E+XG4gICAgPGRpdiBjbGFzcz1cInRvb2x0aXBfX3ZlcnNpb25fX2NvbnRlbnRcIj5cbiAgICAgIDxwPkNsaWNrIGhlcmUgdG8gc2VlIG91ciBsYXRlc3QgcG9zdCBhbmQgdGhlIG5ldyBmZWF0dXJlcyB3ZSBhZGRlZCAhPC9wPlxuICAgIDwvZGl2PlxuICA8L2Rpdj4gXG48L2Rpdj5cblxuPGEgY2xhc3M9XCJzY2FuLXRyYW5zbGF0b3ItcGFuZWwtbGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL2Zvcm1zLmdsZS9IYkpWZldxSzVzZEN5cUxUOFwiPkhlbHAgdXMgdG8gaW1wcm92ZSB0aGUgZXh0ZW5zaW9uICE8L2E+XG5cbjxkaXYgY2xhc3M9XCJzY2FuLXRyYW5zbGF0b3ItcGFuZWwtc2VsZWN0LWZvcm1cIj5cbiAgPHA+VHJhbnNsYXRlZCB0bzwvcD5cblxuICA8ZGl2IGNsYXNzPVwic2Nhbi10cmFuc2xhdG9yLXBhbmVsLXNlbGVjdC1jb250YWluZXJcIj5cbiAgICA8c2VsZWN0IGNsYXNzPVwianMtcGFuZWwtdHJhbnNsYXRlZC10by1zZWxlY3RcIj48L3NlbGVjdD5cblxuICAgIDxzdmcgd2lkdGg9XCIxNVwiIGhlaWdodD1cIjE1XCIgdmlld0JveD1cIjAgMCAxNSAxNVwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgPHBhdGggZD1cIk0wLjkzNzUzMSAzLjI4MTI5QzEuMTc3NDYgMy4yODEyOSAxLjQxNzQyIDMuMzcyNzkgMS42MDA0NCAzLjU1NTg1TDcuNTAwMDYgOS40NTU0M0wxMy4zOTk2IDMuNTU1ODVDMTMuNzY1NyAzLjE4OTcgMTQuMzU5MyAzLjE4OTcgMTQuNzI1NCAzLjU1NTg1QzE1LjA5MTUgMy45MjE5NiAxNS4wOTE1IDQuNTE1NTUgMTQuNzI1NCA0Ljg4MTY2TDguMTYyOTcgMTEuNDQ0MkM3Ljk4NzEzIDExLjYyIDcuNzQ4NzIgMTEuNzE4OCA3LjUwMDA2IDExLjcxODhDNy4yNTE0NSAxMS43MTg4IDcuMDEyOTUgMTEuNjIgNi44MzcxMSAxMS40NDQyTDAuMjc0NjI0IDQuODgxN0MtMC4wOTE0ODY5IDQuNTE1NTkgLTAuMDkxNDg2OSAzLjkyMiAwLjI3NDYyNCAzLjU1NTg5QzAuNDU3NjM4IDMuMzcyNzkgMC42OTc2MDQgMy4yODEyOSAwLjkzNzUzMSAzLjI4MTI5WlwiIGZpbGw9XCJ3aGl0ZVwiLz5cbiAgICA8L3N2Zz5cbiAgPC9kaXY+ICAgICAgICAgIFxuICA8L2Rpdj5cbjxkaXYgY2xhc3M9XCJzY2FuLXRyYW5zbGF0b3ItcGFuZWwtcmFkaWFsLWdyYWRpZW50XCI+PC9kaXY+XG5cbjxidXR0b24gY2xhc3M9XCJzY2FuLXRyYW5zbGF0b3ItcGFuZWwtYnRuLXRvZ2dsZSBqcy1zaG93LXRyYW5zbGF0aW9uc1wiPlxuPGRpdj48L2Rpdj5cbjxzcGFuPk9yaWdpbmFsIChUKTwvc3Bhbj5cbiAgPHN2ZyB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIiB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgPGcgY2xpcC1wYXRoPVwidXJsKCNjbGlwMF8xXzY4OClcIj5cbiAgICA8cGF0aCBkPVwiTTkuNzY3NjQgMS42MzQ0NEM5LjQ1ODI0IDEuMzI0NjMgOC45NTU4MiAxLjMyNDgyIDguNjQ2MDEgMS42MzQ0NEwzLjU5Nzg3IDYuNjgyNzdMMS4zNTQxOSA0LjQzOTExQzEuMDQ0MzggNC4xMjkzIDAuNTQyMTc0IDQuMTI5MyAwLjIzMjM2IDQuNDM5MTFDLTAuMDc3NDUzNCA0Ljc0ODkzIC0wLjA3NzQ1MzQgNS4yNTExMyAwLjIzMjM2IDUuNTYwOTRMMy4wMzY4NCA4LjM2NTQyQzMuMTkxNjUgOC41MjAyMyAzLjM5NDY0IDguNTk3ODMgMy41OTc2NSA4LjU5NzgzQzMuODAwNjcgOC41OTc4MyA0LjAwMzg2IDguNTIwNDIgNC4xNTg2NyA4LjM2NTQyTDkuNzY3NjQgMi43NTYyNUMxMC4wNzc1IDIuNDQ2NjUgMTAuMDc3NSAxLjk0NDIzIDkuNzY3NjQgMS42MzQ0NFpcIiBmaWxsPVwid2hpdGVcIi8+XG4gICAgPC9nPlxuICAgIDxkZWZzPlxuICAgIDxjbGlwUGF0aCBpZD1cImNsaXAwXzFfNjg4XCI+XG4gICAgPHJlY3Qgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCIgZmlsbD1cIndoaXRlXCIvPlxuICAgIDwvY2xpcFBhdGg+XG4gICAgPC9kZWZzPlxuICA8L3N2Zz5cbjwvYnV0dG9uPlxuXG48YnV0dG9uIGNsYXNzPVwic2Nhbi10cmFuc2xhdG9yLXBhbmVsLWJ0biBqcy10cmFuc2xhdGUtcGFnZVwiPlxuICBUcmFuc2xhdGUgKFEpXG48L2J1dHRvbj5cblxuPGJ1dHRvbiBjbGFzcz1cInNjYW4tdHJhbnNsYXRvci1wYW5lbC1idG4ganMtdHJhbnNsYXRlLWFsbC1pbWFnZXNcIj5cbiAgVHJhbnNsYXRlIGFsbCBpbWFnZXMgPGJyIC8+IChVc2UgbG90IG9mIGNyZWRpdHMsIHRha2UgY2FyZSlcbjwvYnV0dG9uPlxuPC9kaXY+XG5cbjxkaXYgY2xhc3M9XCJzY2FuLXRyYW5zbGF0b3ItcGFuZWwtdG9nZ2xlIGpzLXBhbmVsLXRvZ2dsZVwiPlxuPHN2ZyB3aWR0aD1cIjE1XCIgaGVpZ2h0PVwiMTVcIiB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gIDxwYXRoIGQ9XCJNNy44MTI1MSAwLjYyNTAwNUM3LjgxMjUxIDAuNzg0OTU1IDcuNzUxNSAwLjk0NDkzNCA3LjYyOTQ2IDEuMDY2OTRMMy42OTY0MSA1LjAwMDAzTDcuNjI5NDYgOC45MzMwNUM3Ljg3MzU3IDkuMTc3MSA3Ljg3MzU3IDkuNTcyODYgNy42Mjk0NiA5LjgxNjkzQzcuMzg1MzkgMTAuMDYxIDYuOTg5NjYgMTAuMDYxIDYuNzQ1NTkgOS44MTY5M0wyLjM3MDU3IDUuNDQxOTZDMi4yNTMzNyA1LjMyNDc0IDIuMTg3NSA1LjE2NTggMi4xODc1IDUuMDAwMDNDMi4xODc1IDQuODM0MjggMi4yNTMzNyA0LjY3NTI4IDIuMzcwNTcgNC41NTgwNkw2Ljc0NTU2IDAuMTgzMDY3QzYuOTg5NjMgLTAuMDYxMDA2NSA3LjM4NTM2IC0wLjA2MTAwNjUgNy42Mjk0NCAwLjE4MzA2N0M3Ljc1MTUgMC4zMDUwNzcgNy44MTI1MSAwLjQ2NTA1NSA3LjgxMjUxIDAuNjI1MDA1WlwiIGZpbGw9XCJ3aGl0ZVwiLz5cbjwvc3ZnPlxuPC9kaXY+XG5gXG5cbmV4cG9ydCB7XG4gIHNob3dFcnJvcixcbiAgZ2V0RmluZ2VycHJpbnQsXG4gIGdldE1heFpJbmRleCxcbiAgcmVzaXplVGV4dCxcbiAgcmVtb3ZlTG9hZGluZ092ZXJsYXksXG4gIGRyYWdFbGVtZW50LFxuICBwYW5lbEh0bWxTdHJpbmcsXG4gIGRpc2FibGVEcmFnLFxuICBlbmFibGVEcmFnLFxufVxuIiwiZXhwb3J0IGNvbnN0IEVSUk9SX01FU1NBR0UgPSB7XG4gIE5PX1RFWFRfRk9VTkQ6ICdObyB0ZXh0IHdhcyBmb3VuZCBpbiB0aGlzIGltYWdlIG9yIHRoaXMgc2l0ZSBwcmV2ZW50cyB1cyBmcm9tIHJldHJpZXZpbmcgdGhlIGltYWdlLiBVc2UgeW91ciA8YSBocmVmPVwiaHR0cHM6Ly9zY2FuLXRyYW5zbGF0b3IuY29tL3VwbG9hZFwiIHRhcmdldD1cIl9ibGFua1wiPlVwbG9hZCBUb29sPC9hPiBpbnN0ZWFkJyxcbiAgU0lURV9OT1RfU1VQUE9SVEVEOiAnVGhpcyB3ZWJzaXRlIGlzIG5vdCBzdXBwb3J0ZWQsIFVzZSBvdXIgPGEgaHJlZj1cImh0dHBzOi8vc2Nhbi10cmFuc2xhdG9yLmNvbS91cGxvYWRcIiB0YXJnZXQ9XCJfYmxhbmtcIj5VcGxvYWQgVG9vbDwvYT4gdG8gdHJhbnNsYXRlIG1hbnVhbGx5IHlvdXIgaW1hZ2VzJyxcbiAgR0xPQkFMOiAnQW4gZXJyb3IgaGFzIG9jY3VycmVkLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyIG9yIHJlZnJlc2ggdGhlIHBhZ2UuIElmIHRoZSBlcnJvciBpcyBzdGlsbCBwcmVzZW50LCBzZW5kIHVzIGEgbWVzc2FnZScsXG4gIExJTUlUX0VYQ0VFREVEOiAnU29ycnksIHlvdSBoYXZlIGV4Y2VlZGVkIHlvdXIgd2Vla2x5IGxpbWl0IG9mIDIwIGZyZWUgY3JlZGl0cy4gUGxlYXNlIHVwZ3JhZGUgdG8gPGEgaHJlZj1cImh0dHBzOi8vc2NhbnRyYW5zbGF0b3IuZ3Vtcm9hZC5jb20vbC9zY2FuLXRyYW5zbGF0b3JcIiB0YXJnZXQ9XCJfYmxhbmtcIj5wcm88L2E+IG9yIHRyeSBhZ2FpbiBpbiAxIHdlZWsuJ1xufVxuXG5leHBvcnQgY29uc3QgUlVMRVNfV0VCU0lURSA9IHtcbiAgSElUT01JOiAnaGl0b21pLmxhJ1xufVxuXG5leHBvcnQgY29uc3QgVEFSR0VUX0xBTkdTID0gW1xuICB7XG4gICAgbmFtZTogJ0FsYmFuaWFuJyxcbiAgICB2YWx1ZTogJ1NRJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0FyYWJpYycsXG4gICAgdmFsdWU6ICdBUidcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdBcm1lbmlhbicsXG4gICAgdmFsdWU6ICdIWSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdCZWxhcnVzaWFuJyxcbiAgICB2YWx1ZTogJ0JFJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0Jvc25pYW4nLFxuICAgIHZhbHVlOiAnQlMnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnQnVsZ2FyaWFuJyxcbiAgICB2YWx1ZTogJ0JHJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0J1cm1lc2UnLFxuICAgIHZhbHVlOiAnTVknXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnQ2hpbmVzZSAoc2ltcGxpZmllZCknLFxuICAgIHZhbHVlOiAnWkgnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnQ3JvYXRpYW4nLFxuICAgIHZhbHVlOiAnSFInXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnQ3plY2gnLFxuICAgIHZhbHVlOiAnQ1MnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnRGFuaXNoJyxcbiAgICB2YWx1ZTogJ0RBJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0R1dGNoJyxcbiAgICB2YWx1ZTogJ05MJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0VuZ2xpc2ggKEFtZXJpY2FuKScsXG4gICAgdmFsdWU6ICdFTi1VUydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdFbmdsaXNoIChCcml0aXNoKScsXG4gICAgdmFsdWU6ICdFTi1HQidcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdFc3RvbmlhbicsXG4gICAgdmFsdWU6ICdFVCdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdGaW5uaXNoJyxcbiAgICB2YWx1ZTogJ0ZJJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0ZyZW5jaCcsXG4gICAgdmFsdWU6ICdGUidcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdHZW9yZ2lhbicsXG4gICAgdmFsdWU6ICdLQSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdHZXJtYW4nLFxuICAgIHZhbHVlOiAnREUnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnR3JlZWsnLFxuICAgIHZhbHVlOiAnRUwnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnSGVicmV3JyxcbiAgICB2YWx1ZTogJ0hFJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0hpbmRpJyxcbiAgICB2YWx1ZTogJ0hJJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0h1bmdhcmlhbicsXG4gICAgdmFsdWU6ICdIVSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdJY2VsYW5kaWMnLFxuICAgIHZhbHVlOiAnSVMnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnSW5kb25lc2lhbicsXG4gICAgdmFsdWU6ICdJRCdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdJdGFsaWFuJyxcbiAgICB2YWx1ZTogJ0lUJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0phcGFuZXNlJyxcbiAgICB2YWx1ZTogJ0pBJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0tvcmVhbicsXG4gICAgdmFsdWU6ICdLTydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdLdXJkaXNoJyxcbiAgICB2YWx1ZTogJ0tVJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0xhbycsXG4gICAgdmFsdWU6ICdMTydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdMYXR2aWFuJyxcbiAgICB2YWx1ZTogJ0xWJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0xpdGh1YW5pYW4nLFxuICAgIHZhbHVlOiAnTFQnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTHV4ZW1ib3VyZ2lzaCcsXG4gICAgdmFsdWU6ICdMQidcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdNYWNlZG9uaWFuJyxcbiAgICB2YWx1ZTogJ01LJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ01hbGFnYXN5JyxcbiAgICB2YWx1ZTogJ01HJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ01hbGF5JyxcbiAgICB2YWx1ZTogJ01TJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ01hbHRlc2UnLFxuICAgIHZhbHVlOiAnTVQnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTW9uZ29saWFuJyxcbiAgICB2YWx1ZTogJ01OJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ05lcGFsaScsXG4gICAgdmFsdWU6ICdORSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdOb3J3ZWdpYW4nLFxuICAgIHZhbHVlOiAnTk8nXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnUGVyc2lhbicsXG4gICAgdmFsdWU6ICdGQSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdQb2xpc2gnLFxuICAgIHZhbHVlOiAnUEwnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnUG9ydHVndWVzZSAoQnJhemlsaWFuKScsXG4gICAgdmFsdWU6ICdQVC1CUidcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdQb3J0dWd1ZXNlIChleGNsdWRpbmcgQnJhemlsaWFuKScsXG4gICAgdmFsdWU6ICdQVC1QVCdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdSb21hbmlhbicsXG4gICAgdmFsdWU6ICdSTydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdSdXNzaWFuJyxcbiAgICB2YWx1ZTogJ1JVJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1Nsb3ZhaycsXG4gICAgdmFsdWU6ICdTSydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdTbG92ZW5pYW4nLFxuICAgIHZhbHVlOiAnU0wnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnU29tYWxpJyxcbiAgICB2YWx1ZTogJ1NPJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1NwYW5pc2gnLFxuICAgIHZhbHVlOiAnRVMnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnU3VuZGFuZXNlJyxcbiAgICB2YWx1ZTogJ1NVJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1N3ZWRpc2gnLFxuICAgIHZhbHVlOiAnU1YnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnVGhhaScsXG4gICAgdmFsdWU6ICdUSCdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdUdXJraXNoJyxcbiAgICB2YWx1ZTogJ1RSJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1R1cmttZW4nLFxuICAgIHZhbHVlOiAnVEsnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnVWtyYWluaWFuJyxcbiAgICB2YWx1ZTogJ1VLJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1V6YmVrJyxcbiAgICB2YWx1ZTogJ1VaJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1ZpZXRuYW1lc2UnLFxuICAgIHZhbHVlOiAnVkknXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnV2Vsc2gnLFxuICAgIHZhbHVlOiAnQ1knXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnWWlkZGlzaCcsXG4gICAgdmFsdWU6ICdZSSdcbiAgfVxuXVxuXG5leHBvcnQgY29uc3QgQVBJX0JBU0VfVVJMID0gJ2h0dHBzOi8vc2Nhbi10cmFuc2xhdG9yLmNvbS9hcGknXG4iLCJpbXBvcnQge1xuICBzaG93RXJyb3IsXG4gIGdldE1heFpJbmRleCxcbiAgcmVzaXplVGV4dCxcbiAgZ2V0RmluZ2VycHJpbnQsXG4gIGRyYWdFbGVtZW50LFxuICByZW1vdmVMb2FkaW5nT3ZlcmxheSxcbiAgcGFuZWxIdG1sU3RyaW5nLFxufSBmcm9tICcuLi91dGlscy5qcydcbmltcG9ydCB7XG4gIEVSUk9SX01FU1NBR0UsXG4gIFRBUkdFVF9MQU5HUyxcbiAgQVBJX0JBU0VfVVJMLFxuICBSVUxFU19XRUJTSVRFLFxufSBmcm9tICcuLi8uLi9jb25zdGFudHMnXG5cbmNvbnN0IGN1cnJlbnRWZXJzaW9uID0gY2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS52ZXJzaW9uXG5sZXQgY3VycmVudFRhcmdldGVkTGFuZyA9ICdFTi1VUydcbmxldCBjdXN0b21Gb250U2l6ZSA9IG51bGxcbmxldCBsaWNlbnNlS2V5ID0gbnVsbFxubGV0IGhvc3RcbmxldCByb290XG5cbmNvbnN0IGluaXQgPSAoKSA9PiB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgY3JlYXRlU2hhZG93Um9vdClcbiAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGhhbmRsZU1lc3NhZ2VzKVxufVxuXG5jb25zdCBjcmVhdGVTaGFkb3dSb290ID0gKCkgPT4ge1xuICBjb25zdCBzaGFkb3dSb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgc2hhZG93Um9vdC5jbGFzc0xpc3QuYWRkKCdzY2FuLXRyYW5zbGF0b3ItcGFuZWwtcm9vdCcpXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2hhZG93Um9vdClcbn1cblxuY29uc3QgaGFuZGxlTWVzc2FnZXMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICBjb25zdCB7XG4gICAgc2NhblRyYW5zbGF0b3JUcmFuc2xhdGVQYWdlRXZlbnQsXG4gICAgbGljZW5zZUtleVBvcHVwRXZlbnQsXG4gICAgc2NhblRyYW5zbGF0b3JUYXJnZXRMYW5nRXZlbnQsXG4gICAgc2NhblRyYW5zbGF0b3JQYW5lbEV2ZW50LFxuICAgIHJlc2V0T3ZlcmxheUV2ZW50LFxuICAgIHN0b3JlTGljZW5zZUtleSxcbiAgICBzY2FuVHJhbnNsYXRvckN1c3RvbUZvbnRTaXplLFxuICB9ID0gcmVxdWVzdFxuXG4gIGlmIChzY2FuVHJhbnNsYXRvckN1c3RvbUZvbnRTaXplKSB7XG4gICAgY3VzdG9tRm9udFNpemUgPSBzY2FuVHJhbnNsYXRvckN1c3RvbUZvbnRTaXplXG4gICAgdXBkYXRlQnViYmxlRm9udFNpemUoc2NhblRyYW5zbGF0b3JDdXN0b21Gb250U2l6ZSlcbiAgfVxuXG4gIGlmIChzY2FuVHJhbnNsYXRvclBhbmVsRXZlbnQgPT09ICdzaG93Jykge1xuICAgIGhhbmRsZVBhbmVsRXZlbnQoJ3Nob3cnKVxuICB9XG5cbiAgaWYgKHNjYW5UcmFuc2xhdG9yUGFuZWxFdmVudCA9PT0gJ2hpZGUnKSB7XG4gICAgaGFuZGxlUGFuZWxFdmVudCgnaGlkZScpXG4gIH1cblxuICBpZiAoc3RvcmVMaWNlbnNlS2V5KSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICAnbGljZW5zZUtleUZvckxhbmRpbmdQYWdlJyxcbiAgICAgIGxpY2Vuc2VLZXkgfHwgKGF3YWl0IGdldE9iamVjdEZyb21Mb2NhbFN0b3JhZ2UoJ2xpY2Vuc2VLZXlMb2NhbFN0b3JhZ2UnKSlcbiAgICApXG4gIH1cblxuICBpZiAocmVzZXRPdmVybGF5RXZlbnQpIHtcbiAgICByZXNldE92ZXJsYXkoKVxuICB9XG5cbiAgaWYgKHNjYW5UcmFuc2xhdG9yVGFyZ2V0TGFuZ0V2ZW50KSB7XG4gICAgc2V0Q3VycmVudFRhcmdldGVkTGFuZyhzY2FuVHJhbnNsYXRvclRhcmdldExhbmdFdmVudClcbiAgfVxuXG4gIGlmIChsaWNlbnNlS2V5UG9wdXBFdmVudCkge1xuICAgIHNldExpY2Vuc2VLZXkobGljZW5zZUtleVBvcHVwRXZlbnQpXG4gIH1cblxuICBpZiAoc2NhblRyYW5zbGF0b3JUcmFuc2xhdGVQYWdlRXZlbnQpIHtcbiAgICBzZXRMaWNlbnNlS2V5KGxpY2Vuc2VLZXlQb3B1cEV2ZW50KVxuICAgIGdldEltYWdlKClcbiAgfVxufVxuXG5jb25zdCBoYW5kbGVVcGRhdGUgPSAoKSA9PiB7XG4gIC8vIENoZWNrIHRoZSAnc2hvd1VwZGF0ZScgZmxhZyBhbmQgJ3Nob3duVmVyc2lvbidcbiAgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KFxuICAgIFsnc2hvd1VwZGF0ZScsICdsYXN0VmVyc2lvbicsICdibG9nVXJsJ10sXG4gICAgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICByZXN1bHQuc2hvd1VwZGF0ZSAmJlxuICAgICAgICAoIXJlc3VsdC5sYXN0VmVyc2lvbiB8fFxuICAgICAgICAgIChyZXN1bHQubGFzdFZlcnNpb24gJiYgcmVzdWx0Lmxhc3RWZXJzaW9uICE9PSBjdXJyZW50VmVyc2lvbikpXG4gICAgICApIHtcbiAgICAgICAgY29uc3Qgc2hhZG93RG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAnLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1yb290J1xuICAgICAgICApPy5zaGFkb3dSb290XG5cbiAgICAgICAgaWYgKHNoYWRvd0RvbSkge1xuICAgICAgICAgIGNvbnN0IHZlcnNpb25CdXR0b24gPSBzaGFkb3dEb20ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICcuc2Nhbi10cmFuc2xhdG9yLXBhbmVsLXZlcnNpb24tY29udGFpbmVyJ1xuICAgICAgICAgIClcbiAgICAgICAgICB2ZXJzaW9uQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NjYW4tdHJhbnNsYXRvci0tdXBkYXRlJylcbiAgICAgICAgICB2ZXJzaW9uQnV0dG9uLmhyZWYgPSByZXN1bHQuYmxvZ1VybFxuXG4gICAgICAgICAgdmVyc2lvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHZlcnNpb25CdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnc2Nhbi10cmFuc2xhdG9yLS11cGRhdGUnKVxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSAnc2hvd25WZXJzaW9uJyBhbmQgc2V0IHRoZSAnc2hvd1VwZGF0ZScgZmxhZyB0byBmYWxzZVxuICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtcbiAgICAgICAgICAgICAgc2hvd1VwZGF0ZTogZmFsc2UsXG4gICAgICAgICAgICAgIGxhc3RWZXJzaW9uOiBjdXJyZW50VmVyc2lvbixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKVxufVxuXG5jb25zdCBoYW5kbGVQYW5lbEV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgZXZlbnQgPT09ICdzaG93JyA/IGNyZWF0ZVBhbmVsKGN1cnJlbnRUYXJnZXRlZExhbmcpIDogaGlkZVBhbmVsKClcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIGV2ZW50ID09PSAnc2hvdycgPyBjcmVhdGVQYW5lbChjdXJyZW50VGFyZ2V0ZWRMYW5nKSA6IGhpZGVQYW5lbCgpXG4gICAgfSlcbiAgfVxufVxuXG5jb25zdCBzZXRDdXJyZW50VGFyZ2V0ZWRMYW5nID0gYXN5bmMgKGxhbmcpID0+IHtcbiAgY3VycmVudFRhcmdldGVkTGFuZyA9IGxhbmdcbiAgY29uc3Qgc2hhZG93RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2Nhbi10cmFuc2xhdG9yLXBhbmVsLXJvb3QnXG4gICk/LnNoYWRvd1Jvb3RcblxuICAvLyBDaGFuZ2UgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3QgaW5zaWRlIHRoZSBzaGFkb3dET01cbiAgaWYgKHNoYWRvd0VsKSB7XG4gICAgc2hhZG93RWwucXVlcnlTZWxlY3RvcignLmpzLXBhbmVsLXRyYW5zbGF0ZWQtdG8tc2VsZWN0JykudmFsdWUgPSBsYW5nXG4gIH1cbn1cblxuY29uc3Qgc2V0TGljZW5zZUtleSA9IChrZXkpID0+IHtcbiAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgbGljZW5zZUtleUxvY2FsU3RvcmFnZToga2V5IH0pXG4gIGxpY2Vuc2VLZXkgPSBrZXlcbn1cblxuY29uc3QgcmVzZXRPdmVybGF5ID0gKCkgPT4ge1xuICBjb25zdCBvdmVybGF5V3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5zY2FuLXRyYW5zbGF0b3Itb3ZlcmxheS13cmFwcGVyJ1xuICApXG5cbiAgaWYgKG92ZXJsYXlXcmFwcGVyKSB7XG4gICAgb3ZlcmxheVdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnc2Nhbi10cmFuc2xhdG9yLW92ZXJsYXktd3JhcHBlcicpXG5cbiAgICBjb25zdCBjaGlsZHJlbiA9IG92ZXJsYXlXcmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY2FuLXRyYW5zbGF0b3Itb3ZlcmxheScpXG5cbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIGNoaWxkcmVuLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsLnJlbW92ZSgpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuXG4vLyBNYWluIEZ1bmN0aW9uc1xuY29uc3QgY3JlYXRlUGFuZWwgPSBhc3luYyAobGFuZykgPT4ge1xuICBjb25zdCBpc1NoYWRvd1Jvb3RFeGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5zY2FuLXRyYW5zbGF0b3ItcGFuZWwtcm9vdCdcbiAgKVxuXG4gIGlmICghaXNTaGFkb3dSb290RXhpc3QpIHtcbiAgICBjb25zdCBzaGFkb3dSb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBzaGFkb3dSb290LmNsYXNzTGlzdC5hZGQoJ3NjYW4tdHJhbnNsYXRvci1wYW5lbC1yb290JylcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2hhZG93Um9vdClcbiAgfVxuXG4gIGhvc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2Nhbi10cmFuc2xhdG9yLXBhbmVsLXJvb3QnKVxuXG4gIGlmICghaG9zdC5zaGFkb3dSb290KSB7XG4gICAgcm9vdCA9IGhvc3QuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pXG5cbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGRpdi5jbGFzc05hbWUgPSAnc2hhZG93LXJvb3QtY2xhc3MnXG4gICAgZGl2LmlubmVySFRNTCA9IHBhbmVsSHRtbFN0cmluZ1xuXG4gICAgcm9vdC5hcHBlbmRDaGlsZChkaXYpXG4gIH1cblxuICBjb25zdCBzaGFkb3dEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2Nhbi10cmFuc2xhdG9yLXBhbmVsLXJvb3QnXG4gICkuc2hhZG93Um9vdFxuICBjb25zdCBzaGFkb3dTZWxlY3QgPSBzaGFkb3dEb20ucXVlcnlTZWxlY3RvcignLmpzLXBhbmVsLXRyYW5zbGF0ZWQtdG8tc2VsZWN0JylcbiAgY29uc3Qgc2hhZG93VmVyc2lvblRleHQgPSBzaGFkb3dEb20ucXVlcnlTZWxlY3RvcihcbiAgICAnLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1qcy12ZXJzaW9uJ1xuICApXG5cbiAgc2hhZG93VmVyc2lvblRleHQuaW5uZXJIVE1MID0gYHYuJHtjdXJyZW50VmVyc2lvbn1gXG5cbiAgaGFuZGxlVXBkYXRlKClcbiAgdXBkYXRlUmVtYWluaW5nUmVxdWVzdHMoKVxuXG4gIGlmICghc2hhZG93U2VsZWN0Lm9wdGlvbnMubGVuZ3RoKSB7XG4gICAgLy8gSlMgZm9yIFBhbmVsXG4gICAgVEFSR0VUX0xBTkdTLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBjb25zdCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuICAgICAgb3B0LnZhbHVlID0gZWwudmFsdWVcbiAgICAgIG9wdC5pbm5lckhUTUwgPSBlbC5uYW1lXG5cbiAgICAgIGlmIChlbC52YWx1ZSA9PT0gbGFuZykge1xuICAgICAgICBvcHQuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsIHRydWUpXG4gICAgICB9XG5cbiAgICAgIHNoYWRvd1NlbGVjdC5hcHBlbmRDaGlsZChvcHQpXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZUJ0biA9IHNoYWRvd0RvbS5xdWVyeVNlbGVjdG9yKCcuc2Nhbi10cmFuc2xhdG9yLXBhbmVsLXRvZ2dsZScpXG4gIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1yb290JylcbiAgcGFuZWwuc3R5bGUuekluZGV4ID0gZ2V0TWF4WkluZGV4KCkgKyAxXG5cbiAgLy8gT3BlbiBvciBjbG9zZSB0aGUgcGFuZWxcbiAgY29uc3QgcGFuZWxJc09wZW4gPSBhd2FpdCBnZXRPYmplY3RGcm9tTG9jYWxTdG9yYWdlKCdzY2FuVHJhbnNsYXRvck9wZW5QYW5lbCcpXG5cbiAgaWYgKHBhbmVsSXNPcGVuKSB7XG4gICAgdG9nZ2xlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlJylcbiAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzY2FuLXRyYW5zbGF0b3ItcGFuZWwtLWhpZGUnKVxuICB9IGVsc2Uge1xuICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3NjYW4tdHJhbnNsYXRvci1wYW5lbC0taGlkZScpXG4gICAgdG9nZ2xlQnRuLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlJylcbiAgICBwYW5lbC5zdHlsZS50cmFuc2l0aW9uID0gJ3Vuc2V0J1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBwYW5lbC5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSA2MDBtcyBlYXNlLWluLW91dCdcbiAgICB9LCA1MDApXG4gIH1cblxuICBjb25zdCB0b2dnbGVPdmVybGF5cyA9ICgpID0+IHtcbiAgICBjb25zdCBvdmVybGF5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY2FuLXRyYW5zbGF0b3Itb3ZlcmxheScpXG4gICAgY29uc3Qgb3JpZ2luYWxCdXR0b25Jc0NoZWNrZWQgPSBzaGFkb3dEb20ucXVlcnlTZWxlY3RvcihcbiAgICAgICcuc2Nhbi10cmFuc2xhdG9yLXBhbmVsLWJ0bi1kZWZhdWx0J1xuICAgIClcbiAgICBvcmlnaW5hbEJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdzY2FuLXRyYW5zbGF0b3ItcGFuZWwtYnRuLWRlZmF1bHQnKVxuXG4gICAgaWYgKCEhb3JpZ2luYWxCdXR0b25Jc0NoZWNrZWQpIHtcbiAgICAgIG92ZXJsYXlzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBvdmVybGF5cy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXG4gICAgaWYgKHRvZ2dsZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlJykpIHtcbiAgICAgIHRvZ2dsZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZScpXG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzY2FuLXRyYW5zbGF0b3ItcGFuZWwtLWhpZGUnKVxuICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgc2NhblRyYW5zbGF0b3JPcGVuUGFuZWw6IHRydWUgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgnc2Nhbi10cmFuc2xhdG9yLXBhbmVsLS1oaWRlJylcbiAgICAgIHRvZ2dsZUJ0bi5jbGFzc0xpc3QuYWRkKCdjbG9zZScpXG4gICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBzY2FuVHJhbnNsYXRvck9wZW5QYW5lbDogZmFsc2UgfSlcbiAgICB9XG4gIH0pXG5cbiAgY29uc3Qgb3JpZ2luYWxCdG4gPSBzaGFkb3dEb20ucXVlcnlTZWxlY3RvcignLmpzLXNob3ctdHJhbnNsYXRpb25zJylcblxuICBvcmlnaW5hbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXG4gICAgdG9nZ2xlT3ZlcmxheXMoKVxuICB9KVxuXG4gIGNvbnN0IHBhbmVsU2VsZWN0ID0gc2hhZG93RG9tLnF1ZXJ5U2VsZWN0b3IoJy5qcy1wYW5lbC10cmFuc2xhdGVkLXRvLXNlbGVjdCcpXG5cbiAgcGFuZWxTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG5cbiAgICBjdXJyZW50VGFyZ2V0ZWRMYW5nID0gcGFuZWxTZWxlY3QudmFsdWVcbiAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe1xuICAgICAgc2NhblRyYW5zbGF0b3JUYXJnZXRMYW5nRXZlbnQ6IHBhbmVsU2VsZWN0LnZhbHVlLFxuICAgIH0pXG4gIH0pXG5cbiAgY29uc3QgdHJhbnNsYXRlQnV0dG9uID0gc2hhZG93RG9tLnF1ZXJ5U2VsZWN0b3IoJy5qcy10cmFuc2xhdGUtcGFnZScpXG4gIGNvbnN0IHRyYW5zbGF0ZUFsbEltYWdlQnV0dG9uID0gc2hhZG93RG9tLnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5qcy10cmFuc2xhdGUtYWxsLWltYWdlcydcbiAgKVxuXG4gIHRyYW5zbGF0ZUFsbEltYWdlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG5cbiAgICB0cnkge1xuICAgICAgdHJhbnNsYXRlQWxsSW1hZ2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZScpXG4gICAgICBnZXRBbGxJbWFnZXMoKVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRyYW5zbGF0ZUFsbEltYWdlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGUnKVxuICAgIH1cbiAgfSlcblxuICB0cmFuc2xhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblxuICAgIHRyeSB7XG4gICAgICB0cmFuc2xhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZScpXG4gICAgICBnZXRJbWFnZSgpXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdHJhbnNsYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGUnKVxuICAgIH1cbiAgfSlcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG5cbiAgICBpZiAoZS5rZXkgPT09ICdxJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdHJhbnNsYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGUnKVxuICAgICAgICBnZXRJbWFnZSgpXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdHJhbnNsYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGUnKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlLmtleSA9PT0gJ3QnKSB7XG4gICAgICB0b2dnbGVPdmVybGF5cygpXG4gICAgfVxuICB9KVxufVxuXG5jb25zdCBoaWRlUGFuZWwgPSAoKSA9PiB7XG4gIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1yb290JylcblxuICBpZiAoIXBhbmVsKSB7XG4gICAgcmV0dXJuXG4gIH0gZWxzZSB7XG4gICAgcGFuZWwucmVtb3ZlKClcbiAgfVxufVxuXG5jb25zdCB1cGRhdGVSZW1haW5pbmdSZXF1ZXN0cyA9IGFzeW5jIChyZXN1bHQgPSB1bmRlZmluZWQpID0+IHtcbiAgY29uc3Qgc2hhZG93RG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAnLnNjYW4tdHJhbnNsYXRvci1wYW5lbC1yb290J1xuICApLnNoYWRvd1Jvb3RcbiAgY29uc3Qgc2NhblRyYW5zbGF0b3JBcGlSZXNwb25zZSA9XG4gICAgcmVzdWx0IHx8IChhd2FpdCBnZXRPYmplY3RGcm9tTG9jYWxTdG9yYWdlKCdzY2FuVHJhbnNsYXRvckFwaVJlc3BvbnNlJykpXG4gIGNvbnN0IHJlbWFpbmluZ1JlcXVlc3RUZXh0ID0gc2hhZG93RG9tLnF1ZXJ5U2VsZWN0b3IoJy5qcy1yZW1haW5pbmctcmVxdWVzdCcpXG5cbiAgaWYgKHNjYW5UcmFuc2xhdG9yQXBpUmVzcG9uc2UpIHtcbiAgICByZW1haW5pbmdSZXF1ZXN0VGV4dC5pbm5lckhUTUwgPSBgPHAgY2xhc3M9XCJqcy1yZW1haW5pbmctcmVxdWVzdFwiPiR7XG4gICAgICBzY2FuVHJhbnNsYXRvckFwaVJlc3BvbnNlLm1ldGE/LnJhdGVsaW1pdF9yZW1haW5pbmcgPz8gMFxuICAgIH0vJHtzY2FuVHJhbnNsYXRvckFwaVJlc3BvbnNlLm1ldGE/LnJhdGVsaW1pdF9saW1pdCA/PyAyMH08L3A+YFxuICB9IGVsc2Uge1xuICAgIHJlbWFpbmluZ1JlcXVlc3RUZXh0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cImpzLXJlbWFpbmluZy1yZXF1ZXN0XCI+MjAvMjA8L3A+J1xuICB9XG59XG5cbmNvbnN0IGNhbnZhc09uVmlld3BvcnQgPSAoKSA9PiB7XG4gIC8vIE9idGVuaXIgbGEgaGF1dGV1ciBldCBsYSBsYXJnZXVyIGR1IHZpZXdwb3J0XG4gIGNvbnN0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodFxuXG4gIC8vIE9idGVuaXIgdG91cyBsZXMgw6lsw6ltZW50cyBkZSB0eXBlIGltZyBvdSBjYW52YXNcbiAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcsIGNhbnZhcycpXG5cbiAgLy8gUGFyY291cmlyIGxlcyDDqWzDqW1lbnRzXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgIC8vIE9idGVuaXIgbGVzIGNvb3Jkb25uw6llcyBkZSBsJ8OpbMOpbWVudFxuICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cbiAgICAvLyBWw6lyaWZpZXIgc2kgbCfDqWzDqW1lbnQgZXN0IHZpc2libGUgZGFucyBsZSB2aWV3cG9ydFxuICAgIGlmIChcbiAgICAgIHJlY3QudG9wID49IDAgJiZcbiAgICAgIHJlY3QubGVmdCA+PSAwICYmXG4gICAgICByZWN0LmJvdHRvbSA8PSB2aWV3cG9ydEhlaWdodCAmJlxuICAgICAgcmVjdC5yaWdodCA8PSB2aWV3cG9ydFdpZHRoXG4gICAgKSB7XG4gICAgICAvLyBMJ8OpbMOpbWVudCBlc3QgdmlzaWJsZSBkYW5zIGxlIHZpZXdwb3J0LCBvbiBwZXV0IGwndXRpbGlzZXIgaWNpXG4gICAgICBpZiAoZWxlbWVudC5ub2RlTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnY2FudmFzJykge1xuICAgICAgICBzaG93RXJyb3IoRVJST1JfTUVTU0FHRS5TSVRFX05PVF9TVVBQT1JURUQpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGdldEFsbEltYWdlcyA9IGFzeW5jICgpID0+IHtcbiAgY2FudmFzT25WaWV3cG9ydCgpXG5cbiAgY29uc3QgYWxsSW1hZ2VzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKSlcbiAgY29uc3QgdmFsaWRJbWFnZXMgPSBhbGxJbWFnZXMuZmlsdGVyKChpbWFnZSkgPT4ge1xuICAgIHJldHVybiBpbWFnZS5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScgJiYgIWltYWdlLnNyYy5lbmRzV2l0aCgnLmdpZicpXG4gIH0pXG5cbiAgbGV0IG1heERpbWVuc2lvbiA9IDBcbiAgbGV0IGJpZ2dlc3RJbWFnZSA9IHVuZGVmaW5lZFxuXG4gIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgdGhlIGltYWdlcy5cbiAgZm9yIChjb25zdCBpbWFnZSBvZiB2YWxpZEltYWdlcykge1xuICAgIGlmIChpbWFnZS5zcmMuc3RhcnRzV2l0aCgnYmxvYjonKSkge1xuICAgICAgc2hvd0Vycm9yKEVSUk9SX01FU1NBR0UuU0lURV9OT1RfU1VQUE9SVEVEKVxuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnREaW1lbnNpb24gPSBpbWFnZS53aWR0aCAqIGltYWdlLmhlaWdodFxuXG4gICAgaWYgKGN1cnJlbnREaW1lbnNpb24gPj0gbWF4RGltZW5zaW9uKSB7XG4gICAgICBtYXhEaW1lbnNpb24gPSBjdXJyZW50RGltZW5zaW9uXG4gICAgICBiaWdnZXN0SW1hZ2UgPSBpbWFnZVxuICAgIH1cbiAgfVxuXG4gIHRyYW5zbGF0ZUFsbEltYWdlKClcblxuICBhc3luYyBmdW5jdGlvbiB0cmFuc2xhdGVBbGxJbWFnZSgpIHtcbiAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHZhbGlkSW1hZ2VzKSB7XG4gICAgICBpZiAoaW1hZ2Uud2lkdGggPT09IGJpZ2dlc3RJbWFnZS53aWR0aCkge1xuICAgICAgICBjb25zdCBiYXNlNjRJbWFnZSA9IGF3YWl0IGltYWdlVG9CYXNlNjQoaW1hZ2UpXG5cbiAgICAgICAgLy8gU2VuZCBpbWFnZSB0byBBUElcbiAgICAgICAgYXdhaXQgZGlzcGxheVRyYW5zbGF0aW9ucyhpbWFnZSwgYmFzZTY0SW1hZ2UpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGdldEltYWdlID0gYXN5bmMgKCkgPT4ge1xuICBjYW52YXNPblZpZXdwb3J0KClcblxuICAvLyBIYW5kbGUgc3BlY2lmaWNzIGNhc2VzXG4gIGlmIChuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbikuaG9zdG5hbWUgPT09IFJVTEVTX1dFQlNJVEUuSElUT01JKSB7XG4gICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29taWNJbWFnZXMgaW1nJylcbiAgICBjb25zdCBiYXNlNjRJbWFnZSA9IGF3YWl0IGltYWdlVG9CYXNlNjQoaW1hZ2UpXG4gICAgZGlzcGxheVRyYW5zbGF0aW9ucyhpbWFnZSwgYmFzZTY0SW1hZ2UpXG5cbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGltYWdlcyA9IGRvY3VtZW50LmltYWdlc1xuICBsZXQgbWF4RGltZW5zaW9uID0gMFxuICBsZXQgYmlnZ2VzdEltYWdlID0gdW5kZWZpbmVkXG5cbiAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCB0aGUgaW1hZ2VzLlxuICBmb3IgKGNvbnN0IGltYWdlIG9mIGltYWdlcykge1xuICAgIGlmIChpc0luVmlld3BvcnQoaW1hZ2UpKSB7XG4gICAgICBjb25zdCBjdXJyZW50RGltZW5zaW9uID0gaW1hZ2Uud2lkdGggKiBpbWFnZS5oZWlnaHRcblxuICAgICAgaWYgKGN1cnJlbnREaW1lbnNpb24gPj0gbWF4RGltZW5zaW9uKSB7XG4gICAgICAgIG1heERpbWVuc2lvbiA9IGN1cnJlbnREaW1lbnNpb25cbiAgICAgICAgYmlnZ2VzdEltYWdlID0gaW1hZ2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoYmlnZ2VzdEltYWdlKSB7XG4gICAgaWYgKGJpZ2dlc3RJbWFnZS5zcmMuc3RhcnRzV2l0aCgnYmxvYjonKSkge1xuICAgICAgc2hvd0Vycm9yKEVSUk9SX01FU1NBR0UuU0lURV9OT1RfU1VQUE9SVEVEKVxuICAgIH1cblxuICAgIGNvbnN0IGJhc2U2NEltYWdlID0gYXdhaXQgaW1hZ2VUb0Jhc2U2NChiaWdnZXN0SW1hZ2UpXG5cbiAgICAvLyBTZW5kIGltYWdlIHRvIEFQSVxuICAgIGRpc3BsYXlUcmFuc2xhdGlvbnMoYmlnZ2VzdEltYWdlLCBiYXNlNjRJbWFnZSlcbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG5cbmNvbnN0IGltYWdlVG9CYXNlNjQgPSAoaW1hZ2UpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuXG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKClcbiAgICBpbWcuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJ1xuXG4gICAgLy8gVXRpbGlzZXogbGUgcHJveHkgQ09SUyBjb3JzcHJveHkuaW8gcG91ciBjaGFyZ2VyIGwnaW1hZ2VcbiAgICBjb25zdCBwcm94eVVybCA9ICdodHRwczovL2NvcnNwcm94eS5pby8/J1xuICAgIGltZy5zcmMgPSBwcm94eVVybCArIGVuY29kZVVSSUNvbXBvbmVudChpbWFnZS5zcmMpXG5cbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodFxuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGNhbnZhcy50b0RhdGFVUkwoKVxuICAgICAgICByZXNvbHZlKGJhc2U2NClcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXNvbHZlKG51bGwpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaW1nLm9uZXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICByZXNvbHZlKG51bGwpXG4gICAgfVxuICB9KVxufVxuXG5jb25zdCBpc0luVmlld3BvcnQgPSAoZWwpID0+IHtcbiAgaWYgKCF3aW5kb3cgfHwgZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnIHx8IGVsLnNyYy5lbmRzV2l0aCgnLmdpZicpKSByZXR1cm5cblxuICBjb25zdCBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudFxuICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICByZXR1cm4gKFxuICAgIHJlY3QudG9wIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiZcbiAgICByZWN0LmxlZnQgPD0gKHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkgJiZcbiAgICByZWN0LmJvdHRvbSA+PSAwICYmXG4gICAgcmVjdC5yaWdodCA+PSAwXG4gIClcbn1cblxuY29uc3QgZGlzcGxheVRyYW5zbGF0aW9ucyA9IGFzeW5jIChpbWFnZSwgYmFzZTY0SW1hZ2UpID0+IHtcbiAgbGV0IGxvY2FsU3RvcmFnZUFwaVJlc3BvbnNlXG4gIGxldCBwYXJlbnQgPSBudWxsXG5cbiAgLy8gSGFuZGxlIHNwZWNpZmljcyB3ZWJzaXRlIHJ1bGVzXG4gIGlmIChuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbikuaG9zdG5hbWUgPT09IFJVTEVTX1dFQlNJVEUuSElUT01JKSB7XG4gICAgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbWljSW1hZ2VzIHBpY3R1cmUnKVxuICB9XG5cbiAgaWYgKCFwYXJlbnQpIHtcbiAgICAvLyBJZiBwYXJlbnROb2RlIGlzIGEgbGluaywgZ29lcyB1cCBvbmUgbGV2ZWwgdG8gYXZvaWQgY2xpY2sgb24gaHJlZiBkdXJpbmcgZHJhZyAmIGRyb3BcbiAgICBwYXJlbnQgPVxuICAgICAgaW1hZ2UucGFyZW50Tm9kZS50YWdOYW1lID09PSAnQSdcbiAgICAgICAgPyBpbWFnZS5wYXJlbnROb2RlLnBhcmVudE5vZGVcbiAgICAgICAgOiBpbWFnZS5wYXJlbnROb2RlXG4gIH1cblxuICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnc2Nhbi10cmFuc2xhdG9yLW92ZXJsYXktd3JhcHBlcicpXG5cbiAgY29uc3Qgb3ZlcmxheUxvYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIG92ZXJsYXlMb2FkZXIuY2xhc3NMaXN0LmFkZCgnc2Nhbi10cmFuc2xhdG9yLW92ZXJsYXktbG9hZGVyJylcblxuICBPYmplY3QuYXNzaWduKG92ZXJsYXlMb2FkZXIuc3R5bGUsIHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgdG9wOiBgJHtpbWFnZS5vZmZzZXRUb3B9cHhgLFxuICAgIGxlZnQ6IGAke2ltYWdlLm9mZnNldExlZnR9cHhgLFxuICAgIHdpZHRoOiBgJHtpbWFnZS53aWR0aH1weGAsXG4gICAgaGVpZ2h0OiBgJHtpbWFnZS5oZWlnaHR9cHhgLFxuICAgIHpJbmRleDogZ2V0TWF4WkluZGV4KCkgKyAyLFxuICB9KVxuXG4gIHBhcmVudC5hcHBlbmRDaGlsZChvdmVybGF5TG9hZGVyKVxuXG4gIC8vIGdldCBwcmV2aW91cyBhcGlSZXNwb25zZSBpbiBsb2NhbFN0b3JhZ2VcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0T2JqZWN0RnJvbUxvY2FsU3RvcmFnZSgnc2NhblRyYW5zbGF0b3JBcGlSZXNwb25zZScpXG5cbiAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIHJlcXVlc3RlZCBib2R5IGluIGxvY2FsU3RvcmFnZSwgdXNlIHRoaXMgaW5zdGVhZCBvZiBkb2luZyBuZXcgcmVxdWVzdFxuICBpZiAoXG4gICAgcmVzdWx0Py5pbWFnZVVybCA9PT0gaW1hZ2Uuc3JjICYmXG4gICAgcmVzdWx0LmRhdGE/LnRyYW5zbGF0aW9uX2xhbmd1YWdlcy5pbmNsdWRlcyhjdXJyZW50VGFyZ2V0ZWRMYW5nKVxuICApIHtcbiAgICBsb2NhbFN0b3JhZ2VBcGlSZXNwb25zZSA9IHJlc3VsdFxuICB9XG5cbiAgLy8gSWYgd2UgdHJhbnNsYXRlIHRoZSBzYW1lIGltYWdlIGJ1dCB3aXRoIGRpZmZlcmVudCB0YXJnZXRMYW5nLCByZW1vdmUgdGhlIG9sZCB0cmFuc2xhdGlvbnNcbiAgaWYgKFxuICAgIHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NjYW4tdHJhbnNsYXRvci1vdmVybGF5LXdyYXBwZXInKSAmJlxuICAgIHBhcmVudC5xdWVyeVNlbGVjdG9yKCcuc2Nhbi10cmFuc2xhdG9yLW92ZXJsYXknKSAmJlxuICAgIHJlc3VsdD8uaW1hZ2VVcmwgPT09IGltYWdlLnNyYyAmJlxuICAgICFyZXN1bHQuZGF0YT8udHJhbnNsYXRpb25fbGFuZ3VhZ2VzLmluY2x1ZGVzKGN1cnJlbnRUYXJnZXRlZExhbmcpXG4gICkge1xuICAgIHBhcmVudC5xdWVyeVNlbGVjdG9yKCcuc2Nhbi10cmFuc2xhdG9yLW92ZXJsYXknKS5yZW1vdmUoKVxuICB9XG5cbiAgY29uc3QgYXBpUmVzcG9uc2UgPVxuICAgIGxvY2FsU3RvcmFnZUFwaVJlc3BvbnNlIHx8XG4gICAgKGF3YWl0IGdldFRyYW5zbGF0aW9ucyhcbiAgICAgIGJhc2U2NEltYWdlID8gYmFzZTY0SW1hZ2UgOiBpbWFnZS5zcmMsXG4gICAgICBgJHtBUElfQkFTRV9VUkx9L3RyYW5zbGF0aW9uc2AsXG4gICAgICBiYXNlNjRJbWFnZSA/ICdiYXNlNjQnIDogJ3VybCcsXG4gICAgICBpbWFnZS5zcmNcbiAgICApKVxuXG4gIGlmIChcbiAgICAoYXBpUmVzcG9uc2U/LnN0YXR1c0NvZGUgJiYgIWFwaVJlc3BvbnNlPy5kYXRhPy5ibG9ja3MubGVuZ3RoKSB8fFxuICAgIChhcGlSZXNwb25zZT8uc3RhdHVzQ29kZSAmJiBhcGlSZXNwb25zZT8uc3RhdHVzQ29kZSA9PT0gNDA0KVxuICApIHtcbiAgICAvLyBEZWNyZW1lbnQgcmVtYWluaW5nUmVxdWVzdHMgd2hlbiBzaXRlIGJsb2NrIHJlcXVlc3RzXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0T2JqZWN0RnJvbUxvY2FsU3RvcmFnZSgnc2NhblRyYW5zbGF0b3JBcGlSZXNwb25zZScpXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmVzdWx0Lm1ldGEucmF0ZWxpbWl0X3JlbWFpbmluZyA9IHJlc3VsdC5tZXRhLnJhdGVsaW1pdF9yZW1haW5pbmcgLSAxXG4gICAgfVxuICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IHNjYW5UcmFuc2xhdG9yQXBpUmVzcG9uc2U6IHJlc3VsdCB9KVxuXG4gICAgcmVtb3ZlTG9hZGluZ092ZXJsYXkoKVxuICAgIHVwZGF0ZVJlbWFpbmluZ1JlcXVlc3RzKClcbiAgICBzaG93RXJyb3IoRVJST1JfTUVTU0FHRS5OT19URVhUX0ZPVU5EKVxuICB9XG5cbiAgaWYgKGFwaVJlc3BvbnNlPy5zdGF0dXNDb2RlICYmIGFwaVJlc3BvbnNlPy5zdGF0dXNDb2RlICE9PSAyMDApIHtcbiAgICByZW1vdmVMb2FkaW5nT3ZlcmxheSgpXG4gICAgc2hvd0Vycm9yKEVSUk9SX01FU1NBR0UuR0xPQkFMKVxuICB9XG5cbiAgaWYgKGFwaVJlc3BvbnNlKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRXhpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJy5zY2FuLXRyYW5zbGF0b3ItZXJyb3ItbWVzc2FnZSdcbiAgICApXG5cbiAgICBpZiAoZXJyb3JNZXNzYWdlRXhpc3QpIHtcbiAgICAgIGVycm9yTWVzc2FnZUV4aXN0LnJlbW92ZSgpXG4gICAgfVxuXG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdzY2FuLXRyYW5zbGF0b3Itb3ZlcmxheScpXG5cbiAgICBPYmplY3QuYXNzaWduKG92ZXJsYXkuc3R5bGUsIHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgcGFkZGluZzogJzEwcHgnLFxuICAgICAgdG9wOiBgJHtpbWFnZS5vZmZzZXRUb3B9cHhgLFxuICAgICAgbGVmdDogYCR7aW1hZ2Uub2Zmc2V0TGVmdH1weGAsXG4gICAgICB3aWR0aDogYCR7aW1hZ2Uud2lkdGh9cHhgLFxuICAgICAgaGVpZ2h0OiBgJHtpbWFnZS5oZWlnaHR9cHhgLFxuICAgICAgekluZGV4OiBnZXRNYXhaSW5kZXgoKSArIDEsXG4gICAgfSlcblxuICAgIHBhcmVudC5hcHBlbmRDaGlsZChvdmVybGF5KVxuXG4gICAgLy8gVXBkYXRlIE92ZXJsYXkncyBjb29yZGluYXRlcyAodG9wIC8gbGVmdClcbiAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiB7XG4gICAgICB1cGRhdGVPdmVybGF5T25SZXNpemUoaW1hZ2UsIG92ZXJsYXkpXG4gICAgfVxuXG4gICAgY29uc3QgZm9ybWF0dGVkQmxvY2tMYW5nID0gYGJsb2NrX3RleHRfJHtjdXJyZW50VGFyZ2V0ZWRMYW5nfWBcbiAgICBjb25zdCByYXRpbyA9IGdldFJhdGlvQnlJbWFnZShpbWFnZSlcblxuICAgIGZvciAoY29uc3QgYmxvY2sgb2YgYXBpUmVzcG9uc2UuZGF0YT8uYmxvY2tzKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGJsb2NrLmJsb2NrX2NvbmZpZGVuY2UgPiAwLjQ1ICYmXG4gICAgICAgICEvXjAqJC8udGVzdChibG9jay5ibG9ja190ZXh0X29yaWdpbmFsLnRyaW0oKSkgJiZcbiAgICAgICAgYmxvY2tbZm9ybWF0dGVkQmxvY2tMYW5nXS5sZW5ndGggPiAxXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ3NjYW4tdHJhbnNsYXRvci1idWJibGUnKVxuXG4gICAgICAgIE9iamVjdC5hc3NpZ24oZGl2LnN0eWxlLCB7XG4gICAgICAgICAgdG9wOiBgJHtibG9jay5ibG9ja19wb3NpdGlvbi50b3AgKiByYXRpbyAtIDN9cHhgLFxuICAgICAgICAgIGxlZnQ6IGAke2Jsb2NrLmJsb2NrX3Bvc2l0aW9uLmxlZnQgKiByYXRpbyAtIDN9cHhgLFxuICAgICAgICAgIHdpZHRoOiBgJHtibG9jay5ibG9ja19zaXplLndpZHRoICogcmF0aW99cHhgLFxuICAgICAgICAgIGhlaWdodDogYCR7YmxvY2suYmxvY2tfc2l6ZS5oZWlnaHQgKiByYXRpb31weGAsXG4gICAgICAgICAgbWluSGVpZ2h0OiBgJHtibG9jay5ibG9ja19zaXplLmhlaWdodCAqIHJhdGlvfXB4YCxcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgIHRleHQuY2xhc3NMaXN0LmFkZCgnc2Nhbi10cmFuc2xhdG9yLXRleHQnKVxuICAgICAgICB0ZXh0LnN0eWxlLnNldFByb3BlcnR5KCdjb2xvcicsICdibGFjaycsICdpbXBvcnRhbnQnKVxuICAgICAgICAvLyBDQyBXSWxkIFdvcmRzIGRvZXMgbm90IHN1cHBvcnQgdGhhaVxuICAgICAgICBpZiAoY3VycmVudFRhcmdldGVkTGFuZyA9PT0gJ1RIJykge1xuICAgICAgICAgIHRleHQuc3R5bGUuZm9udEZhbWlseSA9ICdBcmlhbCdcbiAgICAgICAgfVxuICAgICAgICB0ZXh0LmlubmVySFRNTCA9IGJsb2NrW2Zvcm1hdHRlZEJsb2NrTGFuZ11cblxuICAgICAgICB0ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIC8vIGNvcHkgdGV4dCB0byBjbGlwYm9hcmRcbiAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChibG9ja1tmb3JtYXR0ZWRCbG9ja0xhbmddKVxuICAgICAgICAgIC8vIHNob3cgY29waWVkIGljb25cbiAgICAgICAgICBjb25zdCBzdmdJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICBzdmdJY29uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwidy02IGgtNlwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xMS4zNSAzLjgzNmMtLjA2NS4yMS0uMS40MzMtLjEuNjY0IDAgLjQxNC4zMzYuNzUuNzUuNzVoNC41YS43NS43NSAwIDAwLjc1LS43NSAyLjI1IDIuMjUgMCAwMC0uMS0uNjY0bS01LjggMEEyLjI1MSAyLjI1MSAwIDAxMTMuNSAyLjI1SDE1YzEuMDEyIDAgMS44NjcuNjY4IDIuMTUgMS41ODZtLTUuOCAwYy0uMzc2LjAyMy0uNzUuMDUtMS4xMjQuMDhDOS4wOTUgNC4wMSA4LjI1IDQuOTczIDguMjUgNi4xMDhWOC4yNW04LjktNC40MTRjLjM3Ni4wMjMuNzUuMDUgMS4xMjQuMDggMS4xMzEuMDk0IDEuOTc2IDEuMDU3IDEuOTc2IDIuMTkyVjE2LjVBMi4yNSAyLjI1IDAgMDExOCAxOC43NWgtMi4yNW0tNy41LTEwLjVINC44NzVjLS42MjEgMC0xLjEyNS41MDQtMS4xMjUgMS4xMjV2MTEuMjVjMCAuNjIxLjUwNCAxLjEyNSAxLjEyNSAxLjEyNWg5Ljc1Yy42MjEgMCAxLjEyNS0uNTA0IDEuMTI1LTEuMTI1VjE4Ljc1bS03LjUtMTAuNWg2LjM3NWMuNjIxIDAgMS4xMjUuNTA0IDEuMTI1IDEuMTI1djkuMzc1bS04LjI1LTNsMS41IDEuNSAzLTMuNzVcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIGBcbiAgICAgICAgICBzdmdJY29uLmNsYXNzTGlzdC5hZGQoJ3NjYW4tdHJhbnNsYXRvci1jb3BpZWQtaWNvbicpXG4gICAgICAgICAgdGV4dC5hcHBlbmRDaGlsZChzdmdJY29uKVxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc3ZnSWNvbi5yZW1vdmUoKVxuICAgICAgICAgIH0sIDgwMClcbiAgICAgICAgfSlcblxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGV4dClcbiAgICAgICAgb3ZlcmxheS5hcHBlbmRDaGlsZChkaXYpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGN1c3RvbUZvbnRTaXplKSB7XG4gICAgICB1cGRhdGVCdWJibGVGb250U2l6ZShjdXN0b21Gb250U2l6ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzaXplVGV4dCh7XG4gICAgICAgIGVsZW1lbnRzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nhbi10cmFuc2xhdG9yLXRleHQnKSxcbiAgICAgICAgc3RlcDogMC41LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBNYWtlIHRoZSBESVYgZWxlbWVudCBkcmFnZ2FibGU6XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNjYW4tdHJhbnNsYXRvci1idWJibGUnKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBkcmFnRWxlbWVudChpdGVtKVxuICAgIH0pXG5cbiAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY2FuLXRyYW5zbGF0b3ItcGFuZWwtcm9vdCcpXG4gICAgcGFuZWwuc3R5bGUuekluZGV4ID0gZ2V0TWF4WkluZGV4KCkgKyAxXG5cbiAgICB1cGRhdGVSZW1haW5pbmdSZXF1ZXN0cygpXG4gIH1cblxuICByZW1vdmVMb2FkaW5nT3ZlcmxheSgpXG59XG5cbmNvbnN0IHVwZGF0ZUJ1YmJsZUZvbnRTaXplID0gKGZvbnRTaXplKSA9PiB7XG4gIGNvbnN0IGJ1YmJsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nhbi10cmFuc2xhdG9yLXRleHQnKVxuICBidWJibGVzLmZvckVhY2goKGJ1YmJsZSkgPT4ge1xuICAgIGJ1YmJsZS5zdHlsZS5mb250U2l6ZSA9IGAke2ZvbnRTaXplfXB4YFxuICB9KVxufVxuXG5jb25zdCBnZXRUcmFuc2xhdGlvbnMgPSBhc3luYyAoaW1hZ2UsIHVybCwgdHlwZSwgaW1hZ2VVcmwpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnbGljZW5zZS1rZXknOlxuICAgICAgICAgIGxpY2Vuc2VLZXkgfHxcbiAgICAgICAgICAoYXdhaXQgZ2V0T2JqZWN0RnJvbUxvY2FsU3RvcmFnZSgnbGljZW5zZUtleUxvY2FsU3RvcmFnZScpKSxcbiAgICAgICAgZmluZ2VyUHJpbnRJZDogZ2V0RmluZ2VycHJpbnQoKSxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGltYWdlOiBpbWFnZSxcbiAgICAgICAgdGFyZ2V0X2xhbmc6IGN1cnJlbnRUYXJnZXRlZExhbmcsXG4gICAgICAgIHdlYnNpdGVfdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgdXNlcl9hZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgaW1hZ2VfdHlwZTogdHlwZSxcbiAgICAgIH0pLFxuICAgIH0pXG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgIGlmIChyZXN1bHQuc3RhdHVzQ29kZSA9PT0gNDI5KSB7XG4gICAgICByZW1vdmVMb2FkaW5nT3ZlcmxheSgpXG4gICAgICB1cGRhdGVSZW1haW5pbmdSZXF1ZXN0cyhyZXN1bHQpXG4gICAgICBzaG93RXJyb3IoRVJST1JfTUVTU0FHRS5MSU1JVF9FWENFRURFRClcbiAgICB9XG5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgIHVwZGF0ZVJlbWFpbmluZ1JlcXVlc3RzKHJlc3VsdClcbiAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7XG4gICAgICAgIHNjYW5UcmFuc2xhdG9yQXBpUmVzcG9uc2U6IHsgLi4ucmVzdWx0LCBpbWFnZVVybCB9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKGVycilcbiAgfVxufVxuXG5jb25zdCBnZXRSYXRpb0J5SW1hZ2UgPSAoaW1hZ2UpID0+IHtcbiAgY29uc3QgaW50cmluc2ljU2l6ZSA9IGltYWdlLm5hdHVyYWxXaWR0aFxuICBjb25zdCByZW5kZXJlZFNpemUgPSBpbWFnZS5vZmZzZXRXaWR0aFxuXG4gIHJldHVybiByZW5kZXJlZFNpemUgLyBpbnRyaW5zaWNTaXplXG59XG5cbmNvbnN0IGdldE9iamVjdEZyb21Mb2NhbFN0b3JhZ2UgPSBhc3luYyBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChrZXksIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmVzb2x2ZSh2YWx1ZVtrZXldKVxuICAgIH0pXG4gIH0pXG59XG5cbmNvbnN0IHVwZGF0ZU92ZXJsYXlPblJlc2l6ZSA9IChpbWFnZSwgb3ZlcmxheSkgPT4ge1xuICBPYmplY3QuYXNzaWduKG92ZXJsYXkuc3R5bGUsIHtcbiAgICB0b3A6IGAke2ltYWdlLm9mZnNldFRvcH1weGAsXG4gICAgbGVmdDogYCR7aW1hZ2Uub2Zmc2V0TGVmdH1weGAsXG4gIH0pXG59XG5cbmluaXQoKVxuIl0sIm5hbWVzIjpbIiQ5ZDk5NWE2YWY4YjM2M2VmJGV4cG9ydCQzODc5YjI0ZTgyNDU2OTNkIiwiZXJyb3JNZXNzYWdlIiwidG9hc3QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJPYmplY3QiLCJhc3NpZ24iLCJzdHlsZSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiZ2FwIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwidHJhbnNmb3JtIiwicGFkZGluZyIsImJhY2tncm91bmQiLCJjb2xvciIsImZvbnRTaXplIiwidGV4dEFsaWduIiwiYm9yZGVyUmFkaXVzIiwiekluZGV4IiwiJDlkOTk1YTZhZjhiMzYzZWYkZXhwb3J0JDhlM2VmMzgxNzIxNjNiNGQiLCJtZXNzYWdlIiwiaW5uZXJIVE1MIiwiY2xvc2VCdG4iLCJhcHBlbmRDaGlsZCIsImJvZHkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiRXJyb3IiLCIkOWQ5OTVhNmFmOGIzNjNlZiRleHBvcnQkYzAxNjQ3MmY0NDk1YTE1MiIsInNoYWRvd0RvbSIsInF1ZXJ5U2VsZWN0b3IiLCJzaGFkb3dSb290IiwidHJhbnNsYXRlQnV0dG9uIiwidHJhbnNsYXRlQWxsSW1hZ2VCdXR0b24iLCJNYXRoIiwibWF4IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwicGFyc2VGbG9hdCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJmaWx0ZXIiLCJOdW1iZXIiLCJpc05hTiIsIiQ5ZDk5NWE2YWY4YjM2M2VmJHZhciRpc092ZXJmbG93biIsImNsaWVudEhlaWdodCIsInNjcm9sbEhlaWdodCIsIiQ5ZDk5NWE2YWY4YjM2M2VmJGV4cG9ydCRhNTcyNWI1MjJhNzY5ZWUxIiwiZWxlbWVudCIsImVsZW1lbnRzIiwibWluU2l6ZSIsIm1heFNpemUiLCJzdGVwIiwidW5pdCIsImZvckVhY2giLCJpIiwib3ZlcmZsb3ciLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiJDlkOTk1YTZhZjhiMzYzZWYkZXhwb3J0JDY5Mzc0ZGMyYjMwN2U0IiwicG9zMSIsInBvczIiLCJwb3MzIiwicG9zNCIsIm9ubW91c2Vkb3duIiwiZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjbGllbnRYIiwiY2xpZW50WSIsIm9ubW91c2V1cCIsImNsb3NlRHJhZ0VsZW1lbnQiLCJvbm1vdXNlbW92ZSIsImVsZW1lbnREcmFnIiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsIiQ5ZDk5NWE2YWY4YjM2M2VmJHZhciRmaW5nZXJwcmludCIsIiQ5ZDk5NWE2YWY4YjM2M2VmJGV4cG9ydCQ5MTZhZmUxMDFlMTg2NzY4Iiwid2ViR2xSZW5kZXJlciIsIiQ5ZDk5NWE2YWY4YjM2M2VmJHZhciRnZXRXZWJHbFJlbmRlcmVyIiwiaGFyZHdhcmUiLCIkOWQ5OTVhNmFmOGIzNjNlZiR2YXIkZ2V0SGFyZHdhcmUiLCJjb25uZWN0aW9uU3RyaW5nIiwiJDlkOTk1YTZhZjhiMzYzZWYkdmFyJGdldENvbm5lY3Rpb25TdHJpbmciLCJ0aW1lem9uZUNvZGUiLCJEYXRlIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJidG9hIiwiZ2wiLCJPZmZzY3JlZW5DYW52YXMiLCJnZXRDb250ZXh0IiwiZGVidWdJbmZvIiwiZ2V0RXh0ZW5zaW9uIiwiZ2V0UGFyYW1ldGVyIiwiVU5NQVNLRURfUkVOREVSRVJfV0VCR0wiLCJoYXJkd2FyZUNvbmN1cnJlbmN5IiwibmF2aWdhdG9yIiwidHlwZSIsInJ0dCIsImRvd25saW5rTWF4IiwiZWZmZWN0aXZlVHlwZSIsInNhdmVEYXRhIiwiJDYxMTgyMzc1ZjhkOTk3ZDQkZXhwb3J0JDNmMjdiYzEwMDY4ZWY4NzciLCJOT19URVhUX0ZPVU5EIiwiU0lURV9OT1RfU1VQUE9SVEVEIiwiR0xPQkFMIiwiTElNSVRfRVhDRUVERUQiLCIkNjExODIzNzVmOGQ5OTdkNCRleHBvcnQkNzk4NDhjMjZjYTMzNjY0MCIsIkhJVE9NSSIsIiQ2MTE4MjM3NWY4ZDk5N2Q0JGV4cG9ydCQ4YTQxOTEwY2EzODIyM2Y0IiwibmFtZSIsInZhbHVlIiwiJDg2ODQ2ODQ3NGZiNjRmYjckdmFyJGN1cnJlbnRWZXJzaW9uIiwiY2hyb21lIiwicnVudGltZSIsImdldE1hbmlmZXN0IiwidmVyc2lvbiIsIiQ4Njg0Njg0NzRmYjY0ZmI3JHZhciRob3N0IiwiJDg2ODQ2ODQ3NGZiNjRmYjckdmFyJHJvb3QiLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkY3VycmVudFRhcmdldGVkTGFuZyIsIiQ4Njg0Njg0NzRmYjY0ZmI3JHZhciRjdXN0b21Gb250U2l6ZSIsIiQ4Njg0Njg0NzRmYjY0ZmI3JHZhciRsaWNlbnNlS2V5IiwiJDg2ODQ2ODQ3NGZiNjRmYjckdmFyJGNyZWF0ZVNoYWRvd1Jvb3QiLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkaGFuZGxlTWVzc2FnZXMiLCJhc3luYyIsInJlcXVlc3QiLCJzY2FuVHJhbnNsYXRvclRyYW5zbGF0ZVBhZ2VFdmVudCIsImxpY2Vuc2VLZXlQb3B1cEV2ZW50Iiwic2NhblRyYW5zbGF0b3JUYXJnZXRMYW5nRXZlbnQiLCJzY2FuVHJhbnNsYXRvclBhbmVsRXZlbnQiLCJyZXNldE92ZXJsYXlFdmVudCIsInN0b3JlTGljZW5zZUtleSIsInNjYW5UcmFuc2xhdG9yQ3VzdG9tRm9udFNpemUiLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkdXBkYXRlQnViYmxlRm9udFNpemUiLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkaGFuZGxlUGFuZWxFdmVudCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkZ2V0T2JqZWN0RnJvbUxvY2FsU3RvcmFnZSIsIiQ4Njg0Njg0NzRmYjY0ZmI3JHZhciRyZXNldE92ZXJsYXkiLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkc2V0Q3VycmVudFRhcmdldGVkTGFuZyIsIiQ4Njg0Njg0NzRmYjY0ZmI3JHZhciRzZXRMaWNlbnNlS2V5IiwiJDg2ODQ2ODQ3NGZiNjRmYjckdmFyJGdldEltYWdlIiwicmVhZHlTdGF0ZSIsIiQ4Njg0Njg0NzRmYjY0ZmI3JHZhciRjcmVhdGVQYW5lbCIsIiQ4Njg0Njg0NzRmYjY0ZmI3JHZhciRoaWRlUGFuZWwiLCJsYW5nIiwic2hhZG93RWwiLCJrZXkiLCJzdG9yYWdlIiwibG9jYWwiLCJzZXQiLCJsaWNlbnNlS2V5TG9jYWxTdG9yYWdlIiwib3ZlcmxheVdyYXBwZXIiLCJjaGlsZHJlbiIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJkaXYiLCJjbGFzc05hbWUiLCJzaGFkb3dTZWxlY3QiLCJnZXQiLCJyZXN1bHQiLCJzaG93VXBkYXRlIiwibGFzdFZlcnNpb24iLCJ2ZXJzaW9uQnV0dG9uIiwiaHJlZiIsImJsb2dVcmwiLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkdXBkYXRlUmVtYWluaW5nUmVxdWVzdHMiLCJvcHRpb25zIiwibGVuZ3RoIiwib3B0Iiwic2V0QXR0cmlidXRlIiwidG9nZ2xlQnRuIiwicGFuZWwiLCJ0cmFuc2l0aW9uIiwic2V0VGltZW91dCIsInRvZ2dsZU92ZXJsYXlzIiwib3ZlcmxheXMiLCJvcmlnaW5hbEJ1dHRvbklzQ2hlY2tlZCIsIm9yaWdpbmFsQnRuIiwidG9nZ2xlIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiY29udGFpbnMiLCJzY2FuVHJhbnNsYXRvck9wZW5QYW5lbCIsInBhbmVsU2VsZWN0IiwiJDg2ODQ2ODQ3NGZiNjRmYjckdmFyJGdldEFsbEltYWdlcyIsImVycm9yIiwic2NhblRyYW5zbGF0b3JBcGlSZXNwb25zZSIsInJlbWFpbmluZ1JlcXVlc3RUZXh0IiwibWV0YSIsInJhdGVsaW1pdF9yZW1haW5pbmciLCJyYXRlbGltaXRfbGltaXQiLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkY2FudmFzT25WaWV3cG9ydCIsInZpZXdwb3J0V2lkdGgiLCJpbm5lcldpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJpbm5lckhlaWdodCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib3R0b20iLCJyaWdodCIsIm5vZGVOYW1lIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJ2YWxpZEltYWdlcyIsImltYWdlIiwic3JjIiwiZW5kc1dpdGgiLCJiaWdnZXN0SW1hZ2UiLCJtYXhEaW1lbnNpb24iLCJzdGFydHNXaXRoIiwiY3VycmVudERpbWVuc2lvbiIsIndpZHRoIiwiaGVpZ2h0IiwiYmFzZTY0SW1hZ2UiLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkaW1hZ2VUb0Jhc2U2NCIsIiQ4Njg0Njg0NzRmYjY0ZmI3JHZhciRkaXNwbGF5VHJhbnNsYXRpb25zIiwidHJhbnNsYXRlQWxsSW1hZ2UiLCJVUkwiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiaW1hZ2VzIiwiaW1hZ2UxIiwiJDg2ODQ2ODQ3NGZiNjRmYjckdmFyJGlzSW5WaWV3cG9ydCIsImJhc2U2NEltYWdlMSIsIlByb21pc2UiLCJyZXNvbHZlIiwiY2FudmFzIiwiY3R4IiwiaW1nIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9ubG9hZCIsImRyYXdJbWFnZSIsImJhc2U2NCIsInRvRGF0YVVSTCIsImVyciIsIm9uZXJyb3IiLCJkb2N1bWVudDEiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImxvY2FsU3RvcmFnZUFwaVJlc3BvbnNlIiwidGFnTmFtZSIsIm92ZXJsYXlMb2FkZXIiLCJpbWFnZVVybCIsImRhdGEiLCJ0cmFuc2xhdGlvbl9sYW5ndWFnZXMiLCJpbmNsdWRlcyIsImFwaVJlc3BvbnNlIiwiJDg2ODQ2ODQ3NGZiNjRmYjckdmFyJGdldFRyYW5zbGF0aW9ucyIsInN0YXR1c0NvZGUiLCJibG9ja3MiLCJyZXN1bHQxIiwiZXJyb3JNZXNzYWdlRXhpc3QiLCJvdmVybGF5Iiwib25yZXNpemUiLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkdXBkYXRlT3ZlcmxheU9uUmVzaXplIiwiZm9ybWF0dGVkQmxvY2tMYW5nIiwicmF0aW8iLCIkODY4NDY4NDc0ZmI2NGZiNyR2YXIkZ2V0UmF0aW9CeUltYWdlIiwiYmxvY2siLCJibG9ja19jb25maWRlbmNlIiwidGVzdCIsImJsb2NrX3RleHRfb3JpZ2luYWwiLCJ0cmltIiwiYmxvY2tfcG9zaXRpb24iLCJibG9ja19zaXplIiwibWluSGVpZ2h0IiwidGV4dCIsInNldFByb3BlcnR5IiwiZm9udEZhbWlseSIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInN2Z0ljb24iLCJpdGVtIiwiYnViYmxlIiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJhY2NlcHQiLCJmaW5nZXJQcmludElkIiwiSlNPTiIsInN0cmluZ2lmeSIsInRhcmdldF9sYW5nIiwid2Vic2l0ZV91cmwiLCJ1c2VyX2FnZW50IiwidXNlckFnZW50IiwiaW1hZ2VfdHlwZSIsImpzb24iLCJzdGF0dXMiLCJjb25zb2xlIiwibG9nIiwiaW50cmluc2ljU2l6ZSIsIm5hdHVyYWxXaWR0aCIsIm9mZnNldFdpZHRoIiwib25NZXNzYWdlIiwiYWRkTGlzdGVuZXIiXSwidmVyc2lvbiI6MywiZmlsZSI6ImNvbnRlbnQtc2NyaXB0LkhBU0hfUkVGXzFjNzdkODM3NzQ4MGNkY2QuanMubWFwIn0=
