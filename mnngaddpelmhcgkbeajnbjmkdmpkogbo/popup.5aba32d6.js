const e="https://scan-translator.com/api",a=document.querySelector(".js-translate-page"),n=document.querySelector(".js-show-panel"),t=document.querySelector(".js-enable-font-size"),s=document.querySelector(".js-custom-font-size"),l=document.querySelector(".js-translated-to-select"),o=document.querySelector(".js-contact-us-form"),r=document.querySelector(".js-save-token-form"),i=document.querySelector(".js-save-token-input"),c=document.querySelector(".js-save-token-button"),u=document.querySelector(".js-contact-us-btn"),m=document.querySelector(".js-remaining-request"),d=document.querySelectorAll("main"),v=document.querySelectorAll(".tab");[...Array(29)].map(((e,a)=>a+9)).forEach((e=>{const a=document.createElement("option");a.value=e.valueOf(),a.innerHTML=e,16===e&&a.setAttribute("selected",!0),s.appendChild(a)})),[{name:"Albanian",value:"SQ"},{name:"Arabic",value:"AR"},{name:"Armenian",value:"HY"},{name:"Belarusian",value:"BE"},{name:"Bosnian",value:"BS"},{name:"Bulgarian",value:"BG"},{name:"Burmese",value:"MY"},{name:"Chinese (simplified)",value:"ZH"},{name:"Croatian",value:"HR"},{name:"Czech",value:"CS"},{name:"Danish",value:"DA"},{name:"Dutch",value:"NL"},{name:"English (American)",value:"EN-US"},{name:"English (British)",value:"EN-GB"},{name:"Estonian",value:"ET"},{name:"Finnish",value:"FI"},{name:"French",value:"FR"},{name:"Georgian",value:"KA"},{name:"German",value:"DE"},{name:"Greek",value:"EL"},{name:"Hebrew",value:"HE"},{name:"Hindi",value:"HI"},{name:"Hungarian",value:"HU"},{name:"Icelandic",value:"IS"},{name:"Indonesian",value:"ID"},{name:"Italian",value:"IT"},{name:"Japanese",value:"JA"},{name:"Korean",value:"KO"},{name:"Kurdish",value:"KU"},{name:"Lao",value:"LO"},{name:"Latvian",value:"LV"},{name:"Lithuanian",value:"LT"},{name:"Luxembourgish",value:"LB"},{name:"Macedonian",value:"MK"},{name:"Malagasy",value:"MG"},{name:"Malay",value:"MS"},{name:"Maltese",value:"MT"},{name:"Mongolian",value:"MN"},{name:"Nepali",value:"NE"},{name:"Norwegian",value:"NO"},{name:"Persian",value:"FA"},{name:"Polish",value:"PL"},{name:"Portuguese (Brazilian)",value:"PT-BR"},{name:"Portuguese (excluding Brazilian)",value:"PT-PT"},{name:"Romanian",value:"RO"},{name:"Russian",value:"RU"},{name:"Slovak",value:"SK"},{name:"Slovenian",value:"SL"},{name:"Somali",value:"SO"},{name:"Spanish",value:"ES"},{name:"Sundanese",value:"SU"},{name:"Swedish",value:"SV"},{name:"Thai",value:"TH"},{name:"Turkish",value:"TR"},{name:"Turkmen",value:"TK"},{name:"Ukrainian",value:"UK"},{name:"Uzbek",value:"UZ"},{name:"Vietnamese",value:"VI"},{name:"Welsh",value:"CY"},{name:"Yiddish",value:"YI"}].forEach((e=>{const a=document.createElement("option");a.value=e.value,a.innerHTML=e.name,"EN-US"===e.value&&a.setAttribute("selected",!0),l.appendChild(a)})),chrome.storage.local.get(["scanTranslatorPanelEvent","licenseKeyPopupEvent","scanTranslatorTargetLangEvent","scanTranslatorApiResponse","scanTranslatorEnableCustomFontSize","scanTranslatorCustomFontSize"],(({scanTranslatorPanelEvent:e,licenseKeyPopupEvent:a,scanTranslatorTargetLangEvent:o,scanTranslatorApiResponse:r,scanTranslatorEnableCustomFontSize:u,scanTranslatorCustomFontSize:d})=>{u&&(t.checked=!0,s.disabled=!1,s.classList.remove("disabled")),"show"===e&&(n.checked=!0),a&&(i.value=a,i.classList.add("disabled"),i.disabled=!0,c.value="Update your license"),o&&(l.value=o),u&&d&&(s.value=d),m.innerHTML=r?`<p class="js-remaining-request">${r.meta?.ratelimit_remaining??0}/${r.meta?.ratelimit_limit??20}</p>`:'<p class="js-remaining-request">20/20</p>'}));window.addEventListener("DOMContentLoaded",(async()=>{chrome.tabs.query({active:!0,currentWindow:!0},(async g=>{const[h]=g;chrome.storage.local.set({activeTabId:h.id}),n.checked&&chrome.tabs.sendMessage(h.id,{scanTranslatorTargetLangEvent:l.value}),t.checked&&chrome.tabs.sendMessage(h.id,{scanTranslatorEnableCustomFontSize:!0,scanTranslatorCustomFontSize:s.value}),l.addEventListener("change",(()=>{chrome.storage.local.set({scanTranslatorTargetLangEvent:l.value}),chrome.tabs.sendMessage(h.id,{scanTranslatorTargetLangEvent:l.value})})),s.addEventListener("change",(()=>{chrome.storage.local.set({scanTranslatorCustomFontSize:s.value}),chrome.tabs.sendMessage(h.id,{scanTranslatorCustomFontSize:s.value})})),n.addEventListener("change",(e=>{const a=e.target.checked,n=a?"show":"hide";chrome.storage.local.set({scanTranslatorPanelEvent:n,scanTranslatorOpenPanel:a}),chrome.tabs.sendMessage(h.id,{scanTranslatorPanelEvent:n,scanTranslatorTargetLangEvent:l.value})})),t.addEventListener("change",(e=>{const a=e.target.checked;a?(s.disabled=!1,s.classList.remove("disabled")):(s.disabled=!0,s.classList.add("disabled")),chrome.storage.local.set({scanTranslatorEnableCustomFontSize:a,scanTranslatorCustomFontSize:s.value}),chrome.tabs.sendMessage(h.id,{scanTranslatorEnableCustomFontSize:a,scanTranslatorCustomFontSize:s.value})})),r.addEventListener("submit",(a=>{a.preventDefault(),i.value&&"Update your license"===c.value?(i.disabled=!1,i.classList.remove("disabled"),c.value="Save"):i.value&&"Save"===c.value&&(c.value="License saved!",i.disabled=!0,i.classList.add("disabled"),(async a=>{const n=document.createElement("p");n.classList.add("js-message-save-token");try{const t=await fetch(`${e}/users`,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({license_key:a})}),s=await t.json();if(404===s.statusCode||500===s.statusCode)throw n.innerHTML=s.message,Object.assign(n.style,{color:"red",fontSize:"18px",marginBottom:"16px"}),m.innerHTML='<p class="js-remaining-request">20/20</p>',chrome.storage.local.set({scanTranslatorApiResponse:{meta:{ratelimit_remaining:20,ratelimit_limit:20}}}),r.appendChild(n),setTimeout((()=>{n.remove()}),3e3),s.message;n.innerHTML="Your credits have been updated!",Object.assign(n.style,{color:"green",fontSize:"18px",marginBottom:"16px"}),r.appendChild(n),setTimeout((()=>{n.remove()}),3e3),m.innerHTML=`<p class="js-remaining-request">${s.ratelimit_remaining}/${s.ratelimit_limit}</p>`,chrome.storage.local.set({scanTranslatorApiResponse:{meta:{ratelimit_remaining:s.ratelimit_remaining,ratelimit_limit:s.ratelimit_limit}}})}catch(e){console.log(e)}})(i.value),setTimeout((()=>{c.value="Update your license"}),1500)),i.value&&(chrome.storage.local.set({licenseKeyPopupEvent:i.value}),chrome.tabs.sendMessage(h.id,{licenseKeyPopupEvent:i.value}))})),o.addEventListener("submit",(async a=>{a.preventDefault();const n=document.querySelector(".js-contact-us-message"),t=document.querySelector(".js-error-message-contact-form");if(t&&t.remove(),n.value)try{const a=await fetch(`${e}/contactMessages`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({message:n.value,website_url:h.url}),cache:"default"}),t=await a.json();if(404===t.statusCode||500===t.statusCode){const e=document.createElement("p");throw e.classList.add("js-error-message-contact-form"),e.innerHTML=t.message,Object.assign(e.style,{color:"red",fontSize:"18px",marginBottom:"16px"}),o.appendChild(e),t.message}n.value="",u.value="Sent!",setTimeout((()=>{u.value="Contact us"}),2e3)}catch(e){console.log(e)}})),a.addEventListener("click",(()=>{chrome.storage.local.set({scanTranslatorPanelEvent:"show",scanTranslatorOpenPanel:!0}),chrome.tabs.sendMessage(h.id,{scanTranslatorTranslatePageEvent:!0,scanTranslatorPanelEvent:"show",licenseKeyPopupEvent:i.value}),window.close()})),v[0].classList.add("active-tab"),d[0].classList.add("active-main"),v.forEach(((e,a)=>{e.addEventListener("click",(()=>{d.forEach(((e,a)=>{e.classList.remove("active-main"),v[a].classList.remove("active-tab")})),v[a].classList.add("active-tab"),d[a].classList.add("active-main")}))}))}))}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJtYXBwaW5ncyI6IkFBQU8sTUE4UE1BLEVBQWUsa0NDNVB0QkMsRUFBa0JDLFNBQVNDLGNBQWMsc0JBQ3pDQyxFQUFjRixTQUFTQyxjQUFjLGtCQUNyQ0UsRUFBaUJILFNBQVNDLGNBQWMsd0JBQ3hDRyxFQUFpQkosU0FBU0MsY0FBYyx3QkFDeENJLEVBQXFCTCxTQUFTQyxjQUFjLDRCQUM1Q0ssRUFBZ0JOLFNBQVNDLGNBQWMsdUJBQ3ZDTSxFQUFnQlAsU0FBU0MsY0FBYyx1QkFDdkNPLEVBQWlCUixTQUFTQyxjQUFjLHdCQUN4Q1EsRUFBa0JULFNBQVNDLGNBQWMseUJBQ3pDUyxFQUFlVixTQUFTQyxjQUFjLHNCQUN0Q1UsRUFBdUJYLFNBQVNDLGNBQWMseUJBQzlDVyxFQUFRWixTQUFTYSxpQkFBaUIsUUFDbENDLEVBQWFkLFNBQVNhLGlCQUFpQixRQUczQixJQUFJRSxNQUFNLEtBQUtDLEtBQUksQ0FBQ0MsRUFBR0MsSUFBVUEsRUFBUSxJQUNqREMsU0FBU0MsSUFDakIsTUFBTUMsRUFBTXJCLFNBQVNzQixjQUFjLFVBQ25DRCxFQUFJRSxNQUFRSCxFQUFHSSxVQUNmSCxFQUFJSSxVQUFZTCxFQUVMLEtBQVBBLEdBQ0ZDLEVBQUlLLGFBQWEsWUFBWSxHQUcvQnRCLEVBQWV1QixZQUFZTixFQUFBLElEaEJELENBQzFCLENBQ0VPLEtBQU0sV0FDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sU0FDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sV0FDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sYUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sVUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sWUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sVUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sdUJBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFdBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFFBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFNBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFFBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLHFCQUNOTCxNQUFPLFNBRVQsQ0FDRUssS0FBTSxvQkFDTkwsTUFBTyxTQUVULENBQ0VLLEtBQU0sV0FDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sVUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sU0FDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sV0FDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sU0FDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sUUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sU0FDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sUUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sWUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sWUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sYUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sVUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sV0FDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sU0FDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sVUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sTUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sVUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sYUFDTkwsTUFBTyxNQUVULENBQ0VLLEtBQU0sZ0JBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLGFBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFdBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFFBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFVBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFlBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFNBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFlBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFVBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLFNBQ05MLE1BQU8sTUFFVCxDQUNFSyxLQUFNLHlCQUNOTCxNQUFPLFNBRVQsQ0FDRUssS0FBTSxtQ0FDTkwsTUFBTyxTQUVULENBQ0VLLEtBQU0sV0FDTkwsTUFBTyxNQUVULENB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LGVBRXZCN0IsRUFBV0ssU0FBUSxDQUFDQyxFQUFJRixLQUN0QkUsRUFBRzRCLGlCQUFpQixTQUFTLEtBRTNCcEMsRUFBTU8sU0FBUSxDQUFDQyxFQUFJRixLQUNqQkUsRUFBR3FCLFVBQVVDLE9BQU8sZUFDcEI1QixFQUFXSSxHQUFPdUIsVUFBVUMsT0FBTyxpQkFHckM1QixFQUFXSSxHQUFPdUIsVUFBVUUsSUFBSSxjQUNoQy9CLEVBQU1NLEdBQU91QixVQUFVRSxJQUFJLGlCQUM3QixHQUNGLEdBQ0YiLCJzb3VyY2VzIjpbImNvbnN0YW50cy5qcyIsInNyYy9wb3B1cC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRVJST1JfTUVTU0FHRSA9IHtcbiAgTk9fVEVYVF9GT1VORDogJ05vIHRleHQgd2FzIGZvdW5kIGluIHRoaXMgaW1hZ2Ugb3IgdGhpcyBzaXRlIHByZXZlbnRzIHVzIGZyb20gcmV0cmlldmluZyB0aGUgaW1hZ2UuIFVzZSB5b3VyIDxhIGhyZWY9XCJodHRwczovL3NjYW4tdHJhbnNsYXRvci5jb20vdXBsb2FkXCIgdGFyZ2V0PVwiX2JsYW5rXCI+VXBsb2FkIFRvb2w8L2E+IGluc3RlYWQnLFxuICBTSVRFX05PVF9TVVBQT1JURUQ6ICdUaGlzIHdlYnNpdGUgaXMgbm90IHN1cHBvcnRlZCwgVXNlIG91ciA8YSBocmVmPVwiaHR0cHM6Ly9zY2FuLXRyYW5zbGF0b3IuY29tL3VwbG9hZFwiIHRhcmdldD1cIl9ibGFua1wiPlVwbG9hZCBUb29sPC9hPiB0byB0cmFuc2xhdGUgbWFudWFsbHkgeW91ciBpbWFnZXMnLFxuICBHTE9CQUw6ICdBbiBlcnJvciBoYXMgb2NjdXJyZWQsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIgb3IgcmVmcmVzaCB0aGUgcGFnZS4gSWYgdGhlIGVycm9yIGlzIHN0aWxsIHByZXNlbnQsIHNlbmQgdXMgYSBtZXNzYWdlJyxcbiAgTElNSVRfRVhDRUVERUQ6ICdTb3JyeSwgeW91IGhhdmUgZXhjZWVkZWQgeW91ciB3ZWVrbHkgbGltaXQgb2YgMjAgZnJlZSBjcmVkaXRzLiBQbGVhc2UgdXBncmFkZSB0byA8YSBocmVmPVwiaHR0cHM6Ly9zY2FudHJhbnNsYXRvci5ndW1yb2FkLmNvbS9sL3NjYW4tdHJhbnNsYXRvclwiIHRhcmdldD1cIl9ibGFua1wiPnBybzwvYT4gb3IgdHJ5IGFnYWluIGluIDEgd2Vlay4nXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFU19XRUJTSVRFID0ge1xuICBISVRPTUk6ICdoaXRvbWkubGEnXG59XG5cbmV4cG9ydCBjb25zdCBUQVJHRVRfTEFOR1MgPSBbXG4gIHtcbiAgICBuYW1lOiAnQWxiYW5pYW4nLFxuICAgIHZhbHVlOiAnU1EnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnQXJhYmljJyxcbiAgICB2YWx1ZTogJ0FSJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0FybWVuaWFuJyxcbiAgICB2YWx1ZTogJ0hZJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0JlbGFydXNpYW4nLFxuICAgIHZhbHVlOiAnQkUnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnQm9zbmlhbicsXG4gICAgdmFsdWU6ICdCUydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdCdWxnYXJpYW4nLFxuICAgIHZhbHVlOiAnQkcnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnQnVybWVzZScsXG4gICAgdmFsdWU6ICdNWSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdDaGluZXNlIChzaW1wbGlmaWVkKScsXG4gICAgdmFsdWU6ICdaSCdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdDcm9hdGlhbicsXG4gICAgdmFsdWU6ICdIUidcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdDemVjaCcsXG4gICAgdmFsdWU6ICdDUydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdEYW5pc2gnLFxuICAgIHZhbHVlOiAnREEnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnRHV0Y2gnLFxuICAgIHZhbHVlOiAnTkwnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnRW5nbGlzaCAoQW1lcmljYW4pJyxcbiAgICB2YWx1ZTogJ0VOLVVTJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0VuZ2xpc2ggKEJyaXRpc2gpJyxcbiAgICB2YWx1ZTogJ0VOLUdCJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0VzdG9uaWFuJyxcbiAgICB2YWx1ZTogJ0VUJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0Zpbm5pc2gnLFxuICAgIHZhbHVlOiAnRkknXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnRnJlbmNoJyxcbiAgICB2YWx1ZTogJ0ZSJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0dlb3JnaWFuJyxcbiAgICB2YWx1ZTogJ0tBJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0dlcm1hbicsXG4gICAgdmFsdWU6ICdERSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdHcmVlaycsXG4gICAgdmFsdWU6ICdFTCdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdIZWJyZXcnLFxuICAgIHZhbHVlOiAnSEUnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnSGluZGknLFxuICAgIHZhbHVlOiAnSEknXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnSHVuZ2FyaWFuJyxcbiAgICB2YWx1ZTogJ0hVJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0ljZWxhbmRpYycsXG4gICAgdmFsdWU6ICdJUydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdJbmRvbmVzaWFuJyxcbiAgICB2YWx1ZTogJ0lEJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0l0YWxpYW4nLFxuICAgIHZhbHVlOiAnSVQnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnSmFwYW5lc2UnLFxuICAgIHZhbHVlOiAnSkEnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnS29yZWFuJyxcbiAgICB2YWx1ZTogJ0tPJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0t1cmRpc2gnLFxuICAgIHZhbHVlOiAnS1UnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTGFvJyxcbiAgICB2YWx1ZTogJ0xPJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0xhdHZpYW4nLFxuICAgIHZhbHVlOiAnTFYnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTGl0aHVhbmlhbicsXG4gICAgdmFsdWU6ICdMVCdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdMdXhlbWJvdXJnaXNoJyxcbiAgICB2YWx1ZTogJ0xCJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ01hY2Vkb25pYW4nLFxuICAgIHZhbHVlOiAnTUsnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTWFsYWdhc3knLFxuICAgIHZhbHVlOiAnTUcnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTWFsYXknLFxuICAgIHZhbHVlOiAnTVMnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTWFsdGVzZScsXG4gICAgdmFsdWU6ICdNVCdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdNb25nb2xpYW4nLFxuICAgIHZhbHVlOiAnTU4nXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTmVwYWxpJyxcbiAgICB2YWx1ZTogJ05FJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ05vcndlZ2lhbicsXG4gICAgdmFsdWU6ICdOTydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdQZXJzaWFuJyxcbiAgICB2YWx1ZTogJ0ZBJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1BvbGlzaCcsXG4gICAgdmFsdWU6ICdQTCdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdQb3J0dWd1ZXNlIChCcmF6aWxpYW4pJyxcbiAgICB2YWx1ZTogJ1BULUJSJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1BvcnR1Z3Vlc2UgKGV4Y2x1ZGluZyBCcmF6aWxpYW4pJyxcbiAgICB2YWx1ZTogJ1BULVBUJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1JvbWFuaWFuJyxcbiAgICB2YWx1ZTogJ1JPJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1J1c3NpYW4nLFxuICAgIHZhbHVlOiAnUlUnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnU2xvdmFrJyxcbiAgICB2YWx1ZTogJ1NLJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1Nsb3ZlbmlhbicsXG4gICAgdmFsdWU6ICdTTCdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdTb21hbGknLFxuICAgIHZhbHVlOiAnU08nXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnU3BhbmlzaCcsXG4gICAgdmFsdWU6ICdFUydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdTdW5kYW5lc2UnLFxuICAgIHZhbHVlOiAnU1UnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnU3dlZGlzaCcsXG4gICAgdmFsdWU6ICdTVidcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdUaGFpJyxcbiAgICB2YWx1ZTogJ1RIJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ1R1cmtpc2gnLFxuICAgIHZhbHVlOiAnVFInXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnVHVya21lbicsXG4gICAgdmFsdWU6ICdUSydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdVa3JhaW5pYW4nLFxuICAgIHZhbHVlOiAnVUsnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnVXpiZWsnLFxuICAgIHZhbHVlOiAnVVonXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnVmlldG5hbWVzZScsXG4gICAgdmFsdWU6ICdWSSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdXZWxzaCcsXG4gICAgdmFsdWU6ICdDWSdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdZaWRkaXNoJyxcbiAgICB2YWx1ZTogJ1lJJ1xuICB9XG5dXG5cbmV4cG9ydCBjb25zdCBBUElfQkFTRV9VUkwgPSAnaHR0cHM6Ly9zY2FuLXRyYW5zbGF0b3IuY29tL2FwaSdcbiIsImltcG9ydCB7IFRBUkdFVF9MQU5HUywgQVBJX0JBU0VfVVJMIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuXG5jb25zdCB0cmFuc2xhdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtdHJhbnNsYXRlLXBhZ2UnKVxuY29uc3QgcGFuZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtc2hvdy1wYW5lbCcpXG5jb25zdCBmb250U2l6ZVN3aXRjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1lbmFibGUtZm9udC1zaXplJylcbmNvbnN0IGZvbnRTaXplU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWN1c3RvbS1mb250LXNpemUnKVxuY29uc3QgdHJhbnNsYXRlZFRvU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXRyYW5zbGF0ZWQtdG8tc2VsZWN0JylcbmNvbnN0IGNvbnRhY3RVc0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY29udGFjdC11cy1mb3JtJylcbmNvbnN0IHNhdmVUb2tlbkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtc2F2ZS10b2tlbi1mb3JtJylcbmNvbnN0IHNhdmVUb2tlbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXNhdmUtdG9rZW4taW5wdXQnKVxuY29uc3Qgc2F2ZVRva2VuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXNhdmUtdG9rZW4tYnV0dG9uJylcbmNvbnN0IGNvbnRhY3RVc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jb250YWN0LXVzLWJ0bicpXG5jb25zdCByZW1haW5pbmdSZXF1ZXN0VGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1yZW1haW5pbmctcmVxdWVzdCcpXG5jb25zdCBtYWlucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ21haW4nKVxuY29uc3QgZm9vdGVyVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWInKVxuXG4vLyBHZW5lcmF0ZSBzZWxlY3QgZm9udCBzaXplIG9wdGlvbnNcbmNvbnN0IGZvbnRTaXplcyA9IFsuLi5BcnJheSgyOSldLm1hcCgoXywgaW5kZXgpID0+IGluZGV4ICsgOSlcbmZvbnRTaXplcy5mb3JFYWNoKChlbCkgPT4ge1xuICBjb25zdCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuICBvcHQudmFsdWUgPSBlbC52YWx1ZU9mKClcbiAgb3B0LmlubmVySFRNTCA9IGVsXG5cbiAgaWYgKGVsID09PSAxNikge1xuICAgIG9wdC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgdHJ1ZSlcbiAgfVxuXG4gIGZvbnRTaXplU2VsZWN0LmFwcGVuZENoaWxkKG9wdClcbn0pXG5cbi8vIEdlbmVyYXRlIHNlbGVjdCBvcHRpb25zIGZyb20gZGVlcGwgQVBJXG5UQVJHRVRfTEFOR1MuZm9yRWFjaCgoZWwpID0+IHtcbiAgY29uc3Qgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcbiAgb3B0LnZhbHVlID0gZWwudmFsdWVcbiAgb3B0LmlubmVySFRNTCA9IGVsLm5hbWVcblxuICBpZiAoZWwudmFsdWUgPT09ICdFTi1VUycpIHtcbiAgICBvcHQuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsIHRydWUpXG4gIH1cblxuICB0cmFuc2xhdGVkVG9TZWxlY3QuYXBwZW5kQ2hpbGQob3B0KVxufSlcblxuLy8gPT09PT09PT09IFNldHRpbmdzIGZyb20gbG9jYWwgc3RvcmFnZSA9PT09PT09PT0gXFxcXFxuY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KFxuICBbXG4gICAgJ3NjYW5UcmFuc2xhdG9yUGFuZWxFdmVudCcsXG4gICAgJ2xpY2Vuc2VLZXlQb3B1cEV2ZW50JyxcbiAgICAnc2NhblRyYW5zbGF0b3JUYXJnZXRMYW5nRXZlbnQnLFxuICAgICdzY2FuVHJhbnNsYXRvckFwaVJlc3BvbnNlJyxcbiAgICAnc2NhblRyYW5zbGF0b3JFbmFibGVDdXN0b21Gb250U2l6ZScsXG4gICAgJ3NjYW5UcmFuc2xhdG9yQ3VzdG9tRm9udFNpemUnLFxuICBdLFxuICAoe1xuICAgIHNjYW5UcmFuc2xhdG9yUGFuZWxFdmVudCxcbiAgICBsaWNlbnNlS2V5UG9wdXBFdmVudCxcbiAgICBzY2FuVHJhbnNsYXRvclRhcmdldExhbmdFdmVudCxcbiAgICBzY2FuVHJhbnNsYXRvckFwaVJlc3BvbnNlLFxuICAgIHNjYW5UcmFuc2xhdG9yRW5hYmxlQ3VzdG9tRm9udFNpemUsXG4gICAgc2NhblRyYW5zbGF0b3JDdXN0b21Gb250U2l6ZSxcbiAgfSkgPT4ge1xuICAgIGlmIChzY2FuVHJhbnNsYXRvckVuYWJsZUN1c3RvbUZvbnRTaXplKSB7XG4gICAgICBmb250U2l6ZVN3aXRjaC5jaGVja2VkID0gdHJ1ZVxuICAgICAgZm9udFNpemVTZWxlY3QuZGlzYWJsZWQgPSBmYWxzZVxuICAgICAgZm9udFNpemVTZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxuICAgIH1cblxuICAgIGlmIChzY2FuVHJhbnNsYXRvclBhbmVsRXZlbnQgPT09ICdzaG93Jykge1xuICAgICAgcGFuZWxCdXR0b24uY2hlY2tlZCA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAobGljZW5zZUtleVBvcHVwRXZlbnQpIHtcbiAgICAgIHNhdmVUb2tlbklucHV0LnZhbHVlID0gbGljZW5zZUtleVBvcHVwRXZlbnRcbiAgICAgIHNhdmVUb2tlbklucHV0LmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJylcbiAgICAgIHNhdmVUb2tlbklucHV0LmRpc2FibGVkID0gdHJ1ZVxuXG4gICAgICBzYXZlVG9rZW5CdXR0b24udmFsdWUgPSAnVXBkYXRlIHlvdXIgbGljZW5zZSdcbiAgICB9XG5cbiAgICBpZiAoc2NhblRyYW5zbGF0b3JUYXJnZXRMYW5nRXZlbnQpIHtcbiAgICAgIHRyYW5zbGF0ZWRUb1NlbGVjdC52YWx1ZSA9IHNjYW5UcmFuc2xhdG9yVGFyZ2V0TGFuZ0V2ZW50XG4gICAgfVxuXG4gICAgaWYgKHNjYW5UcmFuc2xhdG9yRW5hYmxlQ3VzdG9tRm9udFNpemUgJiYgc2NhblRyYW5zbGF0b3JDdXN0b21Gb250U2l6ZSkge1xuICAgICAgZm9udFNpemVTZWxlY3QudmFsdWUgPSBzY2FuVHJhbnNsYXRvckN1c3RvbUZvbnRTaXplXG4gICAgfVxuXG4gICAgaWYgKHNjYW5UcmFuc2xhdG9yQXBpUmVzcG9uc2UpIHtcbiAgICAgIHJlbWFpbmluZ1JlcXVlc3RUZXh0LmlubmVySFRNTCA9IGA8cCBjbGFzcz1cImpzLXJlbWFpbmluZy1yZXF1ZXN0XCI+JHtcbiAgICAgICAgc2NhblRyYW5zbGF0b3JBcGlSZXNwb25zZS5tZXRhPy5yYXRlbGltaXRfcmVtYWluaW5nID8/IDBcbiAgICAgIH0vJHtzY2FuVHJhbnNsYXRvckFwaVJlc3BvbnNlLm1ldGE/LnJhdGVsaW1pdF9saW1pdCA/PyAyMH08L3A+YFxuICAgIH0gZWxzZSB7XG4gICAgICByZW1haW5pbmdSZXF1ZXN0VGV4dC5pbm5lckhUTUwgPVxuICAgICAgICAnPHAgY2xhc3M9XCJqcy1yZW1haW5pbmctcmVxdWVzdFwiPjIwLzIwPC9wPidcbiAgICB9XG4gIH1cbilcblxuY29uc3QgcmVnaXN0ZXJVc2VyV2l0aFRva2VuID0gYXN5bmMgKHRva2VuKSA9PiB7XG4gIGNvbnN0IHJlc3VsdE1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgcmVzdWx0TWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdqcy1tZXNzYWdlLXNhdmUtdG9rZW4nKVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L3VzZXJzYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbGljZW5zZV9rZXk6IHRva2VuLFxuICAgICAgfSksXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgIC8vIEVSUk9SXG4gICAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlID09PSA0MDQgfHwgcmVzdWx0LnN0YXR1c0NvZGUgPT09IDUwMCkge1xuICAgICAgcmVzdWx0TWVzc2FnZS5pbm5lckhUTUwgPSByZXN1bHQubWVzc2FnZVxuXG4gICAgICBPYmplY3QuYXNzaWduKHJlc3VsdE1lc3NhZ2Uuc3R5bGUsIHtcbiAgICAgICAgY29sb3I6ICdyZWQnLFxuICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICBtYXJnaW5Cb3R0b206ICcxNnB4JyxcbiAgICAgIH0pXG5cbiAgICAgIHJlbWFpbmluZ1JlcXVlc3RUZXh0LmlubmVySFRNTCA9XG4gICAgICAgICc8cCBjbGFzcz1cImpzLXJlbWFpbmluZy1yZXF1ZXN0XCI+MjAvMjA8L3A+J1xuICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtcbiAgICAgICAgc2NhblRyYW5zbGF0b3JBcGlSZXNwb25zZToge1xuICAgICAgICAgIG1ldGE6IHtcbiAgICAgICAgICAgIHJhdGVsaW1pdF9yZW1haW5pbmc6IDIwLFxuICAgICAgICAgICAgcmF0ZWxpbWl0X2xpbWl0OiAyMCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSlcblxuICAgICAgc2F2ZVRva2VuRm9ybS5hcHBlbmRDaGlsZChyZXN1bHRNZXNzYWdlKVxuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0TWVzc2FnZS5yZW1vdmUoKVxuICAgICAgfSwgMzAwMClcblxuICAgICAgdGhyb3cgcmVzdWx0Lm1lc3NhZ2VcbiAgICB9XG5cbiAgICByZXN1bHRNZXNzYWdlLmlubmVySFRNTCA9ICdZb3VyIGNyZWRpdHMgaGF2ZSBiZWVuIHVwZGF0ZWQhJ1xuICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0TWVzc2FnZS5zdHlsZSwge1xuICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgbWFyZ2luQm90dG9tOiAnMTZweCcsXG4gICAgfSlcblxuICAgIHNhdmVUb2tlbkZvcm0uYXBwZW5kQ2hpbGQocmVzdWx0TWVzc2FnZSlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlc3VsdE1lc3NhZ2UucmVtb3ZlKClcbiAgICB9LCAzMDAwKVxuXG4gICAgLy8gVXBkYXRlIHBvcHVwIGNyZWRpdHMgY291bnRcbiAgICByZW1haW5pbmdSZXF1ZXN0VGV4dC5pbm5lckhUTUwgPSBgPHAgY2xhc3M9XCJqcy1yZW1haW5pbmctcmVxdWVzdFwiPiR7cmVzdWx0LnJhdGVsaW1pdF9yZW1haW5pbmd9LyR7cmVzdWx0LnJhdGVsaW1pdF9saW1pdH08L3A+YFxuXG4gICAgLy8gU3RvcmUgaW4gc3RvcmFnZSB0aGUgbmV3IGNyZWRpdHMgY291bnRcbiAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe1xuICAgICAgc2NhblRyYW5zbGF0b3JBcGlSZXNwb25zZToge1xuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgcmF0ZWxpbWl0X3JlbWFpbmluZzogcmVzdWx0LnJhdGVsaW1pdF9yZW1haW5pbmcsXG4gICAgICAgICAgcmF0ZWxpbWl0X2xpbWl0OiByZXN1bHQucmF0ZWxpbWl0X2xpbWl0LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhlcnIpXG4gIH1cbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBhc3luYyAoKSA9PiB7XG4gIGNocm9tZS50YWJzLnF1ZXJ5KHsgYWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlIH0sIGFzeW5jICh0YWJzKSA9PiB7XG4gICAgY29uc3QgW3RhYl0gPSB0YWJzXG5cbiAgICAvLyBTdG9yZSB0aGUgdGFiSWQgZm9yIGV4ZWN1dGUgYmFja2dyb3VuZCBzY3JpcHQgb25seSBvbiB0aGUgdGFiIHdlIG5lZWQgYW5kIG5vdCBhbGwgdGFic1xuICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IGFjdGl2ZVRhYklkOiB0YWIuaWQgfSlcblxuICAgIC8vIFNlbmQgbWVzc2FnZSBhdCBzdGFydCBmb3IgZGVmYXVsdCB0YXJnZXQgbGFuZ1xuICAgIGlmIChwYW5lbEJ1dHRvbi5jaGVja2VkKSB7XG4gICAgICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWIuaWQsIHtcbiAgICAgICAgc2NhblRyYW5zbGF0b3JUYXJnZXRMYW5nRXZlbnQ6IHRyYW5zbGF0ZWRUb1NlbGVjdC52YWx1ZSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gU2VuZCBtZXNzYWdlIGF0IHN0YXJ0IGZvciBjdXN0b20gZm9udCBzaXplXG4gICAgaWYgKGZvbnRTaXplU3dpdGNoLmNoZWNrZWQpIHtcbiAgICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYi5pZCwge1xuICAgICAgICBzY2FuVHJhbnNsYXRvckVuYWJsZUN1c3RvbUZvbnRTaXplOiB0cnVlLFxuICAgICAgICBzY2FuVHJhbnNsYXRvckN1c3RvbUZvbnRTaXplOiBmb250U2l6ZVNlbGVjdC52YWx1ZSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gU2VuZCBjdXJyZW50IHRhcmdldExhbmcgdG8gY29udGVudFNjcmlwdFxuICAgIHRyYW5zbGF0ZWRUb1NlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe1xuICAgICAgICBzY2FuVHJhbnNsYXRvclRhcmdldExhbmdFdmVudDogdHJhbnNsYXRlZFRvU2VsZWN0LnZhbHVlLFxuICAgICAgfSlcbiAgICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYi5pZCwge1xuICAgICAgICBzY2FuVHJhbnNsYXRvclRhcmdldExhbmdFdmVudDogdHJhbnNsYXRlZFRvU2VsZWN0LnZhbHVlLFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgZm9udFNpemVTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtcbiAgICAgICAgc2NhblRyYW5zbGF0b3JDdXN0b21Gb250U2l6ZTogZm9udFNpemVTZWxlY3QudmFsdWUsXG4gICAgICB9KVxuICAgICAgY2hyb21lLnRhYnMuc2VuZE1lc3NhZ2UodGFiLmlkLCB7XG4gICAgICAgIHNjYW5UcmFuc2xhdG9yQ3VzdG9tRm9udFNpemU6IGZvbnRTaXplU2VsZWN0LnZhbHVlLFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgcGFuZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWRcbiAgICAgIGNvbnN0IHNob3dQYW5lbCA9IGlzQ2hlY2tlZCA/ICdzaG93JyA6ICdoaWRlJ1xuXG4gICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe1xuICAgICAgICBzY2FuVHJhbnNsYXRvclBhbmVsRXZlbnQ6IHNob3dQYW5lbCxcbiAgICAgICAgc2NhblRyYW5zbGF0b3JPcGVuUGFuZWw6IGlzQ2hlY2tlZCxcbiAgICAgIH0pXG4gICAgICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWIuaWQsIHtcbiAgICAgICAgc2NhblRyYW5zbGF0b3JQYW5lbEV2ZW50OiBzaG93UGFuZWwsXG4gICAgICAgIHNjYW5UcmFuc2xhdG9yVGFyZ2V0TGFuZ0V2ZW50OiB0cmFuc2xhdGVkVG9TZWxlY3QudmFsdWUsXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBmb250U2l6ZVN3aXRjaC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgY29uc3QgaXNDaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZFxuXG4gICAgICBpZiAoaXNDaGVja2VkKSB7XG4gICAgICAgIGZvbnRTaXplU2VsZWN0LmRpc2FibGVkID0gZmFsc2VcbiAgICAgICAgZm9udFNpemVTZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9udFNpemVTZWxlY3QuZGlzYWJsZWQgPSB0cnVlXG4gICAgICAgIGZvbnRTaXplU2VsZWN0LmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJylcbiAgICAgIH1cblxuICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtcbiAgICAgICAgc2NhblRyYW5zbGF0b3JFbmFibGVDdXN0b21Gb250U2l6ZTogaXNDaGVja2VkLFxuICAgICAgICBzY2FuVHJhbnNsYXRvckN1c3RvbUZvbnRTaXplOiBmb250U2l6ZVNlbGVjdC52YWx1ZSxcbiAgICAgIH0pXG4gICAgICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWIuaWQsIHtcbiAgICAgICAgc2NhblRyYW5zbGF0b3JFbmFibGVDdXN0b21Gb250U2l6ZTogaXNDaGVja2VkLFxuICAgICAgICBzY2FuVHJhbnNsYXRvckN1c3RvbUZvbnRTaXplOiBmb250U2l6ZVNlbGVjdC52YWx1ZSxcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHNhdmVUb2tlbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICBpZiAoXG4gICAgICAgIHNhdmVUb2tlbklucHV0LnZhbHVlICYmXG4gICAgICAgIHNhdmVUb2tlbkJ1dHRvbi52YWx1ZSA9PT0gJ1VwZGF0ZSB5b3VyIGxpY2Vuc2UnXG4gICAgICApIHtcbiAgICAgICAgLy8gRW5hYmxlIHRoZSB0ZXh0IGlucHV0IGZpZWxkIGFuZCBjaGFuZ2UgdGhlIGJ1dHRvbiB0ZXh0XG4gICAgICAgIHNhdmVUb2tlbklucHV0LmRpc2FibGVkID0gZmFsc2VcbiAgICAgICAgc2F2ZVRva2VuSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxuICAgICAgICBzYXZlVG9rZW5CdXR0b24udmFsdWUgPSAnU2F2ZSdcbiAgICAgIH0gZWxzZSBpZiAoc2F2ZVRva2VuSW5wdXQudmFsdWUgJiYgc2F2ZVRva2VuQnV0dG9uLnZhbHVlID09PSAnU2F2ZScpIHtcbiAgICAgICAgLy8gQ2hhbmdlIHRoZSBidXR0b24gdGV4dCBhbmQgZGlzYWJsZSB0aGUgdGV4dCBpbnB1dCBmaWVsZCBhZnRlciAzIHNlY29uZHNcbiAgICAgICAgc2F2ZVRva2VuQnV0dG9uLnZhbHVlID0gJ0xpY2Vuc2Ugc2F2ZWQhJ1xuICAgICAgICBzYXZlVG9rZW5JbnB1dC5kaXNhYmxlZCA9IHRydWVcbiAgICAgICAgc2F2ZVRva2VuSW5wdXQuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKVxuXG4gICAgICAgIHJlZ2lzdGVyVXNlcldpdGhUb2tlbihzYXZlVG9rZW5JbnB1dC52YWx1ZSlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc2F2ZVRva2VuQnV0dG9uLnZhbHVlID0gJ1VwZGF0ZSB5b3VyIGxpY2Vuc2UnXG4gICAgICAgIH0sIDE1MDApXG4gICAgICB9XG5cbiAgICAgIC8vIFNhdmUgdGhlIGlucHV0IHZhbHVlIHRvIHN0b3JhZ2UgYW5kIHNlbmQgYSBtZXNzYWdlIHRvIHRoZSBjdXJyZW50IHRhYlxuICAgICAgaWYgKHNhdmVUb2tlbklucHV0LnZhbHVlKSB7XG4gICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IGxpY2Vuc2VLZXlQb3B1cEV2ZW50OiBzYXZlVG9rZW5JbnB1dC52YWx1ZSB9KVxuICAgICAgICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWIuaWQsIHtcbiAgICAgICAgICBsaWNlbnNlS2V5UG9wdXBFdmVudDogc2F2ZVRva2VuSW5wdXQudmFsdWUsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnRhY3RVc0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWNvbnRhY3QtdXMtbWVzc2FnZScpXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2VFeGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICcuanMtZXJyb3ItbWVzc2FnZS1jb250YWN0LWZvcm0nXG4gICAgICApXG5cbiAgICAgIGlmIChlcnJvck1lc3NhZ2VFeGlzdCkge1xuICAgICAgICBlcnJvck1lc3NhZ2VFeGlzdC5yZW1vdmUoKVxuICAgICAgfVxuXG4gICAgICBpZiAoISFtZXNzYWdlLnZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2NvbnRhY3RNZXNzYWdlc2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UudmFsdWUsXG4gICAgICAgICAgICAgIHdlYnNpdGVfdXJsOiB0YWIudXJsLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjYWNoZTogJ2RlZmF1bHQnLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzQ29kZSA9PT0gNDA0IHx8IHJlc3VsdC5zdGF0dXNDb2RlID09PSA1MDApIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2pzLWVycm9yLW1lc3NhZ2UtY29udGFjdC1mb3JtJylcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZS5pbm5lckhUTUwgPSByZXN1bHQubWVzc2FnZVxuXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGVycm9yTWVzc2FnZS5zdHlsZSwge1xuICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzE2cHgnLFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY29udGFjdFVzRm9ybS5hcHBlbmRDaGlsZChlcnJvck1lc3NhZ2UpXG4gICAgICAgICAgICB0aHJvdyByZXN1bHQubWVzc2FnZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSAnJ1xuICAgICAgICAgIGNvbnRhY3RVc0J0bi52YWx1ZSA9ICdTZW50ISdcblxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29udGFjdFVzQnRuLnZhbHVlID0gJ0NvbnRhY3QgdXMnXG4gICAgICAgICAgfSwgMjAwMClcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0cmFuc2xhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe1xuICAgICAgICBzY2FuVHJhbnNsYXRvclBhbmVsRXZlbnQ6ICdzaG93JyxcbiAgICAgICAgc2NhblRyYW5zbGF0b3JPcGVuUGFuZWw6IHRydWUsXG4gICAgICB9KVxuICAgICAgY2hyb21lLnRhYnMuc2VuZE1lc3NhZ2UodGFiLmlkLCB7XG4gICAgICAgIHNjYW5UcmFuc2xhdG9yVHJhbnNsYXRlUGFnZUV2ZW50OiB0cnVlLFxuICAgICAgICBzY2FuVHJhbnNsYXRvclBhbmVsRXZlbnQ6ICdzaG93JyxcbiAgICAgICAgbGljZW5zZUtleVBvcHVwRXZlbnQ6IHNhdmVUb2tlbklucHV0LnZhbHVlLFxuICAgICAgfSlcblxuICAgICAgd2luZG93LmNsb3NlKClcbiAgICB9KVxuXG4gICAgZm9vdGVyVGFic1swXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtdGFiJylcbiAgICBtYWluc1swXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtbWFpbicpXG5cbiAgICBmb290ZXJUYWJzLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIC8vIFJlbW92ZSBhbGwgYWN0aXZlcyBjbGFzc2VzXG4gICAgICAgIG1haW5zLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1tYWluJylcbiAgICAgICAgICBmb290ZXJUYWJzW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtdGFiJylcbiAgICAgICAgfSlcblxuICAgICAgICBmb290ZXJUYWJzW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtdGFiJylcbiAgICAgICAgbWFpbnNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1tYWluJylcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn0pXG4iXSwibmFtZXMiOlsiJGE5MTZlYmMyMGFhZTYzMDYkZXhwb3J0JGMzZWUxZTY3MmUxZTI0ZTciLCIkZGQxNjRmZDU3ZGY5ZmYzOCR2YXIkdHJhbnNsYXRlQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiJGRkMTY0ZmQ1N2RmOWZmMzgkdmFyJHBhbmVsQnV0dG9uIiwiJGRkMTY0ZmQ1N2RmOWZmMzgkdmFyJGZvbnRTaXplU3dpdGNoIiwiJGRkMTY0ZmQ1N2RmOWZmMzgkdmFyJGZvbnRTaXplU2VsZWN0IiwiJGRkMTY0ZmQ1N2RmOWZmMzgkdmFyJHRyYW5zbGF0ZWRUb1NlbGVjdCIsIiRkZDE2NGZkNTdkZjlmZjM4JHZhciRjb250YWN0VXNGb3JtIiwiJGRkMTY0ZmQ1N2RmOWZmMzgkdmFyJHNhdmVUb2tlbkZvcm0iLCIkZGQxNjRmZDU3ZGY5ZmYzOCR2YXIkc2F2ZVRva2VuSW5wdXQiLCIkZGQxNjRmZDU3ZGY5ZmYzOCR2YXIkc2F2ZVRva2VuQnV0dG9uIiwiJGRkMTY0ZmQ1N2RmOWZmMzgkdmFyJGNvbnRhY3RVc0J0biIsIiRkZDE2NGZkNTdkZjlmZjM4JHZhciRyZW1haW5pbmdSZXF1ZXN0VGV4dCIsIiRkZDE2NGZkNTdkZjlmZjM4JHZhciRtYWlucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCIkZGQxNjRmZDU3ZGY5ZmYzOCR2YXIkZm9vdGVyVGFicyIsIkFycmF5IiwibWFwIiwiXyIsImluZGV4IiwiZm9yRWFjaCIsImVsIiwib3B0IiwiY3JlYXRlRWxlbWVudCIsInZhbHVlIiwidmFsdWVPZiIsImlubmVySFRNTCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwibmFtZSIsImNocm9tZSIsInN0b3JhZ2UiLCJsb2NhbCIsImdldCIsInNjYW5UcmFuc2xhdG9yUGFuZWxFdmVudCIsImxpY2Vuc2VLZXlQb3B1cEV2ZW50Iiwic2NhblRyYW5zbGF0b3JUYXJnZXRMYW5nRXZlbnQiLCJzY2FuVHJhbnNsYXRvckFwaVJlc3BvbnNlIiwic2NhblRyYW5zbGF0b3JFbmFibGVDdXN0b21Gb250U2l6ZSIsInNjYW5UcmFuc2xhdG9yQ3VzdG9tRm9udFNpemUiLCJjaGVja2VkIiwiZGlzYWJsZWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJtZXRhIiwicmF0ZWxpbWl0X3JlbWFpbmluZyIsInJhdGVsaW1pdF9saW1pdCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhc3luYyIsInRhYnMiLCJxdWVyeSIsImFjdGl2ZSIsImN1cnJlbnRXaW5kb3ciLCJ0YWIiLCJzZXQiLCJhY3RpdmVUYWJJZCIsImlkIiwic2VuZE1lc3NhZ2UiLCJlIiwiaXNDaGVja2VkIiwidGFyZ2V0Iiwic2hvd1BhbmVsIiwic2NhblRyYW5zbGF0b3JPcGVuUGFuZWwiLCJwcmV2ZW50RGVmYXVsdCIsInRva2VuIiwicmVzdWx0TWVzc2FnZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYWNjZXB0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsaWNlbnNlX2tleSIsInJlc3VsdCIsImpzb24iLCJzdGF0dXNDb2RlIiwibWVzc2FnZSIsIk9iamVjdCIsImFzc2lnbiIsInN0eWxlIiwiY29sb3IiLCJmb250U2l6ZSIsIm1hcmdpbkJvdHRvbSIsInNldFRpbWVvdXQiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiJGRkMTY0ZmQ1N2RmOWZmMzgkdmFyJHJlZ2lzdGVyVXNlcldpdGhUb2tlbiIsImVycm9yTWVzc2FnZUV4aXN0IiwiQWNjZXB0Iiwid2Vic2l0ZV91cmwiLCJ1cmwiLCJjYWNoZSIsImVycm9yTWVzc2FnZSIsImVycm9yIiwic2NhblRyYW5zbGF0b3JUcmFuc2xhdGVQYWdlRXZlbnQiLCJjbG9zZSJdLCJ2ZXJzaW9uIjozLCJmaWxlIjoicG9wdXAuSEFTSF9SRUZfZDM0NTQ2ZDhlNzdlZmUwZi5qcy5tYXAifQ==
